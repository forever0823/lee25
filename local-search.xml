<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Socket</title>
    <link href="/2024/05/18/socket/"/>
    <url>/2024/05/18/socket/</url>
    
    <content type="html"><![CDATA[<h1 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h1><p>Socket编程是一种网络编程范式，它允许不同的计算机或设备在网络中进行通信。在网络编程中，socket是一个抽象层，它提供了一个通信端点，使得数据可以在网络上发送和接收。Socket编程通常用于TCP（传输控制协议）或UDP（用户数据报协议）协议。</p><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ol><li><strong>Socket（套接字）</strong>：一个socket是通信链路的一个端点，可以看作是电话的插孔，允许数据在其中进出。</li><li><strong>TCP vs UDP</strong>：<ul><li><strong>TCP（传输控制协议）</strong>：提供一种面向连接、可靠的数据传输服务。它保证数据包按顺序到达，且没有损失或重复。</li><li><strong>UDP（用户数据报协议）</strong>：提供一种无连接的服务，不保证数据包的顺序或可靠性。</li></ul></li><li><strong>IP地址和端口</strong>：IP地址用于标识网络中的设备，而端口号用于标识设备上的特定服务或应用程序。</li></ol><h3 id="Python中的Socket编程"><a href="#Python中的Socket编程" class="headerlink" title="Python中的Socket编程"></a>Python中的Socket编程</h3><p>在Python中，<code>socket</code>模块提供了创建socket通信的基本函数和类。</p><h4 id="创建Socket"><a href="#创建Socket" class="headerlink" title="创建Socket"></a>创建Socket</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 创建TCP/IP socket</span><br>s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br><span class="hljs-comment"># 创建UDP socket</span><br>u = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)<br></code></pre></td></tr></table></figure><h4 id="绑定端口"><a href="#绑定端口" class="headerlink" title="绑定端口"></a>绑定端口</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 绑定到特定地址和端口</span><br>s.bind((<span class="hljs-string">&#x27;0.0.0.0&#x27;</span>, <span class="hljs-number">8080</span>))<br></code></pre></td></tr></table></figure><h4 id="监听连接"><a href="#监听连接" class="headerlink" title="监听连接"></a>监听连接</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 开始监听，参数表示最大连接数</span><br>s.listen(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><h4 id="接受连接"><a href="#接受连接" class="headerlink" title="接受连接"></a>接受连接</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 接受一个新连接</span><br>conn, addr = s.accept()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;连接地址：&#x27;</span>, addr)<br></code></pre></td></tr></table></figure><h4 id="发送和接收数据"><a href="#发送和接收数据" class="headerlink" title="发送和接收数据"></a>发送和接收数据</h4><p>TCP服务器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 接收数据</span><br>data = conn.recv(<span class="hljs-number">1024</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;接收到数据：&#x27;</span>, data)<br><span class="hljs-comment"># 发送数据</span><br>conn.sendall(<span class="hljs-string">b&#x27;Hello, Client!&#x27;</span>)<br></code></pre></td></tr></table></figure><p>TCP客户端：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 连接到服务器</span><br>s.connect((<span class="hljs-string">&#x27;localhost&#x27;</span>, <span class="hljs-number">8080</span>))<br><span class="hljs-comment"># 发送数据</span><br>s.sendall(<span class="hljs-string">b&#x27;Hello, Server!&#x27;</span>)<br><span class="hljs-comment"># 接收数据</span><br>data = s.recv(<span class="hljs-number">1024</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;接收到数据：&#x27;</span>, data)<br></code></pre></td></tr></table></figure><p>UDP服务器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 接收数据</span><br>data, addr = u.recvfrom(<span class="hljs-number">1024</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;接收到数据：&#x27;</span>, data)<br><span class="hljs-comment"># 发送数据</span><br>u.sendto(<span class="hljs-string">b&#x27;Hello, Client!&#x27;</span>, addr)<br></code></pre></td></tr></table></figure><p>UDP客户端：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 发送数据</span><br>u.sendto(<span class="hljs-string">b&#x27;Hello, Server!&#x27;</span>, (<span class="hljs-string">&#x27;localhost&#x27;</span>, <span class="hljs-number">8080</span>))<br><span class="hljs-comment"># 接收数据</span><br>data, addr = u.recvfrom(<span class="hljs-number">1024</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;接收到数据：&#x27;</span>, data)<br></code></pre></td></tr></table></figure><h4 id="关闭Socket"><a href="#关闭Socket" class="headerlink" title="关闭Socket"></a>关闭Socket</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 关闭连接</span><br>conn.close()<br><span class="hljs-comment"># 关闭服务器socket</span><br>s.close()<br><span class="hljs-comment"># 关闭UDP socket</span><br>u.close()<br></code></pre></td></tr></table></figure><h3 id="处理TCP与UDP的主要区别"><a href="#处理TCP与UDP的主要区别" class="headerlink" title="处理TCP与UDP的主要区别"></a>处理TCP与UDP的主要区别</h3><ul><li><strong>连接性</strong>：TCP是面向连接的，而UDP是无连接的。这意味着TCP在通信前需要建立一个连接，并在通信结束后关闭这个连接。而UDP则不需要这样的过程。</li><li><strong>可靠性</strong>：TCP提供可靠的数据传输服务，确保数据按顺序、完整地到达目的地。如果数据丢失或损坏，TCP会自动重传。而UDP则不保证数据的可靠性，一旦数据被发送，就不会再进行任何确认或重传操作。</li><li><strong>性能</strong>：由于UDP没有TCP复杂的确认和重传机制，因此它通常具有更低的延迟和更高的吞吐量。这使得UDP非常适合于对实时性要求较高的应用，如视频会议和在线游戏。</li><li><strong>错误处理</strong>：在使用UDP时，由于其不保证数据的可靠性，因此开发者需要自己实现错误处理机制，比如通过请求响应模式来确认数据是否成功接收。</li></ul><p>通过上述步骤和分析，我们可以在Python中实现UDP通信，并理解其与TCP通信的主要区别。</p><h4 id="优化策略"><a href="#优化策略" class="headerlink" title="优化策略"></a>优化策略</h4><p>在处理socket连接时，Python多线程编程技术的最佳实践和性能优化策略主要包括以下几个方面：</p><ol><li><strong>使用合适的多线程模块</strong>：Python提供了<code>thread</code>和<code>threading</code>两个模块用于实现多线程。<code>thread</code>模块是较低级的接口，提供了更直接和灵活的方式来创建和管理线程。而<code>threading</code>模块则是对<code>thread</code>的封装，提供了更为方便的API。根据具体需求选择合适的模块可以提高代码的可读性和维护性。</li><li><strong>利用同步机制控制资源共享</strong>：在多线程环境下，需要特别注意全局变量和共享资源的访问控制，以避免数据竞争和其他并发问题。可以通过使用锁（Locks）、条件变量（Condition Variables）等同步机制来确保线程安全。</li><li><strong>采用并发模型优化性能</strong>：根据应用场景选择合适的并发模型，如线程池（ThreadPoolExecutor）、进程池（ProcessPoolExecutor）等，可以有效地管理线程或进程，减少创建和销毁线程或进程的开销，从而提高程序的执行效率。</li><li><strong>结合现代CPU的并行特性</strong>：为了充分利用现代CPU的并行处理能力，可以考虑使用支持OpenMP的库如PyOMP，这样可以在Python中编写并行多线程代码，通过Numba生成的代码编译到LLVM，从而接近于用C和OpenMP编写的代码性能。</li><li><strong>高性能网络通信接口的使用</strong>：对于需要高性能网络通信的应用，可以考虑使用专门为高性能网络设计的接口，如shmem4py，它是OpenSHMEM的一个Python包装器，提供了一种高效且便捷的并行编程框架，特别适合于低延迟和高吞吐量的用例。</li><li><strong>JIT编译技术的应用</strong>：为了进一步提高Python代码的执行效率，可以利用JIT（Just-In-Time）编译技术，如Numba，它能够将Python代码的一部分编译成高效的机器码，从而显著提高性能。</li></ol><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>在编写网络应用程序时，需要注意异常处理和错误检查。</li><li>确保在适当的时候关闭socket，以释放系统资源。</li><li>考虑到安全性，可能需要在socket通信中实现加密机制，如SSL。<br>Socket编程是网络编程的基础，理解它对于开发网络应用和服务至关重要。在实际应用中，还需要考虑许多其他因素，如并发处理、性能优化、安全性等。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python第三方库</tag>
      
      <tag>网络编程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024盘古石杯复盘</title>
    <link href="/2024/05/12/2024%E7%9B%98%E5%8F%A4%E7%9F%B3%E5%A4%8D%E7%9B%98/"/>
    <url>/2024/05/12/2024%E7%9B%98%E5%8F%A4%E7%9F%B3%E5%A4%8D%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h1 id="2024盘古石杯复盘"><a href="#2024盘古石杯复盘" class="headerlink" title="2024盘古石杯复盘"></a>2024盘古石杯复盘</h1><h2 id="毛雪柳部分"><a href="#毛雪柳部分" class="headerlink" title="毛雪柳部分"></a>毛雪柳部分</h2><h3 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h3><p>1.分析毛雪柳的计算机检材，计算机插入三星固态盘的时间是：[答案格式：2024-01-01-04-05-06] [★☆☆☆☆]</p><p><strong>2024-04-25-19-08-08</strong></p><p><img src="/../img/%E6%AF%9B_pc_1.png" alt="毛_pc_1.png"></p><p>2.分析毛雪柳的计算机检材，计算机操作系统当前的Build版本是：[答案格式：17786] [★☆☆☆☆]</p><p><strong>19045</strong></p><p><img src="/../img/%E6%AF%9B_pc_2.png" alt="毛_pc_2.png"></p><p>3.分析毛雪柳的计算机检材，团队内部使用的即时通讯软件在计算机上存储日志的文件名是：[答案格式：log.log，区分大小写] [★☆☆☆☆]</p><p><strong>main.log</strong></p><p>仿真后在快速访问中可以找到</p><p><img src="/../img/%E6%AF%9B_pc_3.png" alt="毛_pc_3.png"></p><p>4.分析毛雪柳的计算机检材，伏季雅一月份实发工资的金额是：[答案格式：1234] [★★★☆☆]</p><p><strong>11200</strong></p><p>在仿真pc中可以找到账本.xlxs,但是有密码，可以在毛的手机中找到密码截图</p><p><img src="/../img/%E6%AF%9B_pc_4_1.png" alt="毛_pc_4_1.png"></p><p>打开可以查看</p><p><img src="/../img/%E6%AF%9B_pc_4_2.png" alt="毛_pc_4_2.png"></p><p>5.分析毛雪柳的计算机检材，该团伙三月份的盈余多少：[答案格式：1234] [★★★☆☆]</p><p><strong>158268</strong></p><p>上题中账本.xlxs可以找到</p><p><img src="/../img/%E6%AF%9B_pc_5.png" alt="毛_pc_5.png"></p><h3 id="手机"><a href="#手机" class="headerlink" title="手机"></a>手机</h3><p>1.分析毛雪柳的手机检材，手机中有一个记账APP，该APP的应用名称是：[答案格式：Telegram，区分大小写]</p><p>[★☆☆☆☆]</p><p><strong>iCost</strong></p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_1.png" alt="毛_手机_1.png"></p><p>2.分析毛雪柳的手机检材，记账APP存储记账信息的数据库文件名称是：[答案格式：tmp.db，区分大小写] [★★★★☆]</p><p><strong>default.realm</strong></p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_2_1.png" alt="毛_手机_2_1.png"></p><p>查询可知Realm为数据库</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_2_2.png" alt="毛_手机_2_2.png"></p><p>3.分析毛雪柳的手机检材，记账APP中，2月份总收入金额是多少：[答案格式：1234] [★★★★★]</p><p><strong>11957</strong></p><p>使用Realm studio打开数据库，观察可知type&#x3D;1表示收入</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_3_1.png" alt="毛_手机_3_1.png"></p><p>将时间戳进行转换可以知道，第4条和第5条为2月的记录一共收入9600+2357&#x3D;11957</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_3_2.png" alt="毛_手机_3_2.png"></p><p>4.分析毛雪柳的手机检材，手机中团队内部使用的即时通讯软件中，团队老板的邮箱账号是：[答案格式：<a href="mailto:&#x61;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#x2e;&#x63;&#x6f;&#109;">&#x61;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#x2e;&#x63;&#x6f;&#109;</a>] [★★★☆☆]</p><p><strong><a href="mailto:&#103;&#120;&#x79;&#116;&#64;&#49;&#54;&#51;&#46;&#99;&#111;&#109;">&#103;&#120;&#x79;&#116;&#64;&#49;&#54;&#51;&#46;&#99;&#111;&#109;</a></strong></p><p>综合分析可知团队内部使用的即时通讯软件为mattermost，可以看到共享群组路径</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_4.png" alt="毛_手机_4.png"></p><p>在其中可以找到数据库，导出</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_5.png" alt="毛_手机_5.png"></p><p>分析roles可知gxyt为团队老板</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_6_1.png" alt="毛_手机_6_1.png"></p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_6_2.png" alt="毛_手机_6_2.png"></p><p>5.接上题，该内部即时通讯软件中，毛雪柳和老板的私聊频道中，老板加入私聊频道的时间是：[答案格式：2024-01-01-04-05-06] [★★★☆☆]</p><p><strong>2024-04-24-11-59-28</strong></p><p>先在channelinfo中找到私聊频道的id</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_7_1.png" alt="毛_手机_7_1.png"></p><p>再去post表中查询即可找到“gxyt joined the channel.”再把时间戳转换即可。</p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_7.png" alt="毛_手机_7.png"></p><p>6.接上题，该私聊频道中，老板最后一次发送聊天内容的时间是：[答案格式：2024-01-01-04-05-06] [★★★☆☆]</p><p><strong>2024-04-25-10-24-50</strong></p><p><img src="/../img/%E6%AF%9B_%E6%89%8B%E6%9C%BA_8.png" alt="毛_手机_8.png"></p><h2 id="伏季雅部分"><a href="#伏季雅部分" class="headerlink" title="伏季雅部分"></a>伏季雅部分</h2><h3 id="手机-1"><a href="#手机-1" class="headerlink" title="手机"></a>手机</h3><p>1.分析伏季雅的手机检材，手机的安卓ID是：[答案格式：小写字母和数字] [★☆☆☆☆]</p><p><strong>9e6c9838dafe7ba0</strong></p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_1.png" alt="伏_手机_1.png"></p><p>2.分析伏季雅的手机检材，手机型号是：[答案格式：HUAWEI-FL56T] [★☆☆☆☆]</p><p><strong>SM-G996N</strong>(同上图)</p><p>3.分析伏季雅的手机检材，其和受害人视频通话的时间是：[答案格式：2024-01-01-04-05] [★☆☆☆☆]</p><p><strong>2024-04-24-20-46</strong></p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_2.png" alt="伏_手机_2.png"></p><p>4.分析伏季雅的手机检材，手机中安装了一款记账APP，该记账APP存储记账信息的数据库名称是：[答案格式：abcabc，区分大小写] [★☆☆☆☆]</p><p><strong>MoneyLoverS2</strong></p><p>先在app列表中找到疑似记账app：Money Lover</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_3_1.png" alt="img/伏_手机_3_1.png"></p><p>在&#x2F;data&#x2F;data&#x2F;com.bookmark.money&#x2F;databases目录下找到数据库MoneyLoverS2</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_3_2.png" alt="伏_手机_3_2.png"></p><p>5.接上题，该记账APP登录的邮箱账号是：[答案格式：<a href="mailto:&#97;&#98;&#x63;&#64;&#97;&#98;&#x63;&#46;&#x63;&#111;&#x6d;">&#97;&#98;&#x63;&#64;&#97;&#98;&#x63;&#46;&#x63;&#111;&#x6d;</a>] [★★★☆☆]</p><p><strong><a href="mailto:&#99;&#97;&#114;&#108;&#x65;&#101;&#x6e;&#108;&#x6f;&#121;&#100;&#108;&#x79;&#x69;&#x73;&#52;&#x30;&#64;&#x67;&#x6d;&#97;&#x69;&#108;&#46;&#x63;&#111;&#109;">&#99;&#97;&#114;&#108;&#x65;&#101;&#x6e;&#108;&#x6f;&#121;&#100;&#108;&#x79;&#x69;&#x73;&#52;&#x30;&#64;&#x67;&#x6d;&#97;&#x69;&#108;&#46;&#x63;&#111;&#109;</a></strong> </p><p>导出可得</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_4.png" alt="伏_手机_4.png"></p><p>6.接上题，该记账APP中记录的所有<strong>收入</strong>金额合计是：[答案格式：1234] [★★★☆☆]</p><p><strong>279002</strong></p><p>找到transection表，题目问的是收入，所以先在categories表找到支出和收入的区别cat_type</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_5_1.png" alt="伏_手机_5_1.png"></p><p>再在transection表中查询：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">SELECT SUM(amount) FROM transactions WHERE cat_id IN (SELECT cat_id FROM categories WHERE cat_type = 1)<br></code></pre></td></tr></table></figure><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_5_2.png" alt="伏_手机_5_2.png"></p><p>7.接上题，分析该记账APP中的消费记录，统计从2022-3-1（含）到2023-12-1（含）期间，用于交通的支出费用合计是：[答案格式：1234] [★★★☆☆]</p><p><strong>6042</strong></p><p>交通的cat_id为19</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_6_1.png" alt="伏_手机_6_1.png"></p><p>建立查询（统计从2022-3-1（含）到2023-12-1（含）期间）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">SELECT SUM(amount) FROM transactions WHERE cat_id = 19 AND created_date &gt;= &#x27;2022-03-01&#x27; AND created_date &lt;= &#x27;2023-12-01&#x27;<br></code></pre></td></tr></table></figure><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_6_2.png" alt="伏_手机_6_2.png"></p><p>8.分析伏季雅的手机检材，手机中诈骗APP的包名是：[答案格式：abc.abc.abc，区分大小写] [★☆☆☆☆]</p><p><strong>w2a.W2Ah5.jsgjzfx.org.cn</strong></p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_7.png" alt="伏_手机_7.png"></p><p>9.分析伏季雅的手机检材，手机中诈骗APP连接的服务器地址是：[答案格式：127.0.0.1] [★☆☆☆☆]</p><p><strong>192.168.137.125</strong></p><p>导出apk，Android Killer打开可以找到manifest.json</p><p>其中可以找到</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_8.png" alt="伏_手机_8.png"></p><p>10.分析伏季雅的手机检材，手机中诈骗APP的打包ID是：[答案格式：_abc_abc.abc，区分大小写] [★☆☆☆☆]</p><p><strong>__ W2A __h5.jsgjzfx.org.cn</strong></p><p>也在manifest.json中找到</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_9.png" alt="伏_手机_9.png"></p><p>11.分析伏季雅的手机检材，手机中诈骗APP的主启动项是：[答案格式：abc.abc.abc，区分大小写] [★☆☆☆☆]</p><p><strong>io.dcloud.PandoraEntry</strong></p><p>导出apk，Android Killer打开即得</p><p><img src="/../img/%E4%BC%8F_%E6%89%8B%E6%9C%BA_10.png" alt="伏_手机_10.png"></p><h3 id="PC-1"><a href="#PC-1" class="headerlink" title="PC"></a>PC</h3><p>1.分析伏季雅的计算机检材，计算机最后一次错误登录时间是：[答案格式：2024-01-01-04-05-06] [★☆☆☆☆]</p><p><strong>2024-04-26-16-57-58</strong></p><p>火眼打开找到登录失败即得</p><p><img src="/../img/%E4%BC%8F_pc_1.png" alt="伏_pc_1.png"></p><p>2.分析伏季雅的计算机检材，计算机中曾经浏览过的电影名字是：[答案格式：《奥本海默》] [★☆☆☆☆]</p><p><strong>《坠落的审判》</strong></p><p>翻翻浏览器记录找到</p><p><img src="/../img/%E4%BC%8F_pc_2.png" alt="伏_pc_2.png"></p><p>3.分析伏季雅的计算机检材，计算机中团队内部即时通讯软件的最后一次打开的时间是：[答案格式：2024-01-01-04-05-06] [★☆☆☆☆]</p><p><strong>2024-04-26-17-13-02</strong></p><p>综合分析可得内部即时通讯软件为mattermost</p><p><img src="/../img/%E4%BC%8F_pc_3.png" alt="伏_pc_3.png"></p><p>4.分析伏季雅的计算机检材，计算机中有一款具备虚拟视频功能的软件，该软件合计播放了多少个视频：[答案格式：3] [★☆☆☆☆]</p><p><strong>1</strong></p><p>在Edge浏览器的历史记录中可以找到浏览过MVBOX虚拟视频播放器官网</p><p><img src="/../img/%E4%BC%8F_pc_4_1.png" alt="伏_pc_4_1.png"></p><p>仿真可以找到</p><p><img src="/../img/%E4%BC%8F_pc_4_2.png" alt="伏_pc_4_2.png"></p><p>5.接上题，该软件的官网地址是：[答案格式：<a href="https://www.baidu.com]">https://www.baidu.com]</a> [★☆☆☆☆]</p><p><strong><a href="http://www.mvbox.cn/">http://www.mvbox.cn</a></strong></p><p>见上图</p><p>6.接上题，该软件录制数据时，设置的帧率是：[答案格式：20] [★☆☆☆☆]</p><p><strong>15</strong></p><p><img src="/../img/%E4%BC%8F_pc_5.png" alt="伏_pc_5.png"></p><p>7.分析伏季雅的计算机检材，在团队内部使用的即时通讯软件中，其一共接收了多少条虚拟语音：[答案格式：2] [★☆☆☆☆]</p><p><strong>4</strong></p><p>可以在mattermost的设置中找到下载路径</p><p><img src="/../img/%E4%BC%8F_pc_6_1.png" alt="伏_pc_6_1.png"></p><p>查看可以发现有4个音频</p><p><img src="/../img/%E4%BC%8F_pc_6_2.png" alt="伏_pc_6_2.png"></p><h2 id="义言部分"><a href="#义言部分" class="headerlink" title="义言部分"></a>义言部分</h2><h3 id="手机-2"><a href="#手机-2" class="headerlink" title="手机"></a>手机</h3><p>1.分析义言的手机检材，手机中登录的谷歌邮箱账号是：[答案格式：<a href="mailto:&#97;&#x62;&#99;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;">&#97;&#x62;&#99;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;</a>] [★★☆☆☆]</p><p><strong><a href="mailto:&#97;&#x32;&#50;&#51;&#56;&#51;&#52;&#x36;&#51;&#x31;&#55;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#109;">&#97;&#x32;&#50;&#51;&#56;&#51;&#52;&#x36;&#51;&#x31;&#55;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#109;</a></strong></p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_1.png" alt="言_手机_1.png"></p><p>2.分析义言的手机检材，手机的MTP序列号是：[答案格式：大写字母和数字] [★★☆☆☆]</p><p><strong>FA6A80312283</strong></p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_2.png" alt="言_手机_2.png"></p><p>3.分析义言的手机检材，除系统自带的浏览器外，手机中安装了一款第三方浏览器，该浏览器的应用名称是：[答案格式：百度浏览器] [★★☆☆☆]</p><p><strong>悟空浏览器</strong></p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_3.png" alt="言_手机_3.png"></p><p>4.接上题，上述浏览器最后一次搜索的关键字是：[答案格式：百度] [★★☆☆☆]</p><p><strong>ai写文章生成器</strong></p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_4.png" alt="言_手机_4.png"></p><p>5.接上题，该浏览器最后一次收藏的网址是：[答案格式：<a href="https://baidu.com/acc/123412341234123/]">https://baidu.com/acc/123412341234123/]</a> [★★★☆☆]</p><p><strong><a href="http://toutiao.com/a7361678286282490403/">http://toutiao.com/a7361678286282490403/</a></strong></p><p>时间降序排序即得</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_5.png" alt="言_手机_5.png"></p><p>6.分析义言的手机检材，其所购买的公民信息数据，该数据提供者的手机号码是：[答案格式：13012341234] [★☆☆☆☆]</p><p><strong>13265159824</strong></p><p>在手机相册里可以找到</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_6.png" alt="言_手机_6.png"></p><p>7.接上题，卖家的收款地址：[答案格式：小写字母和数字] [★☆☆☆☆]</p><p><strong>bc1pvunxx2eyt0ljpzs9wp9tcrrdvssra97nnwls5463hxpf3xm69zms3yak85</strong></p><p>见第六题图</p><p>8.接上题，购买上述公民信息，义言一共支付了多少钱：[答案格式：0.000123BTC] [★☆☆☆☆]</p><p><strong>0.07364352BTC</strong></p><p>题目提示用比特币格式</p><p>根据地址可以在比特币交易查询网站查得</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_7.png" alt="言_手机_7.png"></p><p>9.接上题，该笔交易产生的手续费是多少：[答案格式：0.000123BTC] [★★☆☆☆]</p><p><strong>0.00006105BTC</strong></p><p>见第七题图</p><p>10.分析义言的手机检材，分析团队内部使用的即时通讯软件，该软件连接服务器的地址是：[答案格式：127.0.0.1] [★★☆☆☆]</p><p><strong>192.168.137.97</strong></p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_8_1.png" alt="言_手机_8_1.png"></p><p>解base64得到地址</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_8_2.png" alt="言_手机_8_2.png"></p><p>11.接上题，该软件存储聊天信息的数据库文件名称是：[答案格式：abc.abc，区分大小写] [★★☆☆☆]</p><p><strong>aHR0cDovLzE5Mi4xNjguMTM3Ljk3OjgwNjU&#x3D;.db</strong></p><p>见第十题</p><p>12.接上题，该即时通讯软件中，团队内部沟通群中，一共有多少个用户：[答案格式：1] [★★☆☆☆]</p><p><strong>6</strong></p><p>导出数据库即得</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_9.png" alt="言_手机_9.png"></p><p>13.接上题，该即时通讯应用的版本号是：[答案格式：1.1.1] [★★☆☆☆]</p><p><strong>2.15.0</strong></p><p>导出apk文件放入Androidkiller即得</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_10.png" alt="言_手机_10.png"></p><p>14.接上题，该即时通讯应用中，团队内部沟通中曾发送了一个视频文件，该视频文件发送者的用户名是：[答案格式：abc] [★★★★☆]</p><p><strong>yiyan</strong></p><p>在file中可以找到MP4文件</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_11_1.png" alt="言_手机_11_1.png"></p><p>file中post_id与post中id是对应的，post表中查询id为”brryxgwf8pdzdgd46i4og17rdh”的数据</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_11_2.png" alt="言_手机_11_2.png"></p><p>根据user_id找到发送者的用户名</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_11_3.png" alt="言_手机_11_3.png"></p><p>15.接上题，分析该即时通讯的聊天记录，团队购买了一个高性能显卡，该显卡的显存大小是：[答案格式：20G] [★★☆☆☆]</p><p><strong>24G</strong></p><p>查询聊天记录可以找到一个网址</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_12_1.png" alt="言_手机_12_1.png"></p><p>打开可以看到显卡信息</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_12_2.png" alt="言_手机_12_2.png"></p><p>16.分析义言的手机检材，手机中装有一个具备隐藏功能的APP，该APP启动设置了密码，设置的密码长度是多少位：[答案格式：5] [★★★★☆]</p><p><strong>012467853</strong></p><p>在网上搜索，可以发现有对该APP的解密分析 <a href="https://theincidentalchewtoy.wordpress.com/2021/12/07/decrypting-the-calculator-apps/">https://theincidentalchewtoy.wordpress.com/2021/12/07/decrypting-the-calculator-apps/</a></p><p>可知该APP使用硬编码，密钥默认为<code>Rny48Ni8aPjYCnUI</code></p><p>通过AES解密知道它的锁屏密码</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_13.png" alt="言_手机_13.png"></p><p>17.接上题，分析上述隐藏功能的APP，一共隐藏了多少个应用：[答案格式：1] [★★★★☆]</p><p><strong>5</strong></p><p>导出数据库，使用秘钥<strong>Rny48Ni8aPjYCnUI</strong>打开</p><p>查询hide_app表</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_14.png" alt="言_手机_14.png"></p><p>18.接上题，分析上述隐藏功能的APP，该APP一共加密了多少个文件：[答案格式：] [★★★★☆]</p><p><strong>5</strong></p><p>查询file_info表</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_15.png" alt="言_手机_15.png"></p><p>19.接上题，分析上述隐藏功能的APP，该APP加密了一份含有公民隐私信息的文件，该文件的原始名称是：[答案格式：abc.txt] [★★★★☆]</p><p><strong>公民信息.xlsx</strong></p><p>见第十八题图</p><p>20.分析义言的手机检材，马伟的手机号码是：[答案格式：13012341234] [★★★★☆]</p><p><strong>18921286666</strong></p><p>见第十八题图</p><p>找到原始文件e-283a934b-7821-4af3-9301-2cd6bba15782+c1导出</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_16_1.png" alt="言_手机_16_1.png"></p><p>使用cyberchef解密</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_16_2.png" alt="言_手机_16_2.png"></p><p>存为xlsx文件，打开即得</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_16_3.png" alt="言_手机_16_3.png"></p><p>21.分析义言的手机检材，手机中存有一个BitLocker恢复密钥文件，文件已被加密，原始文件的MD5值是：[答案格式：小写字母和数字] [★★★★☆]</p><p><strong>337469-693121-682748-288772-440682-300223-203698-553124</strong></p><p>思路同第二十题，导出，使用cyberchef解密</p><p><img src="/../img/%E8%A8%80_%E6%89%8B%E6%9C%BA_17.png" alt="言_手机_17.png"></p><h3 id="PC-2"><a href="#PC-2" class="headerlink" title="PC"></a>PC</h3><p>1.分析义言的计算机检材，计算机连接过的三星移动硬盘T7的序列号是：[答案格式：大写字母和数字] [★☆☆☆☆]</p><p><strong>ST6WTNS0RBD2721X</strong></p><p>火眼查到的是倒序的（队友用的是盘古石的软件，查到是ST6WTNS0RBD2721X）</p><p><img src="/../img/%E8%A8%80_pc_1.png" alt="言_pc_1.png"></p><p>2.分析义言的计算机检材，计算机的最后一次正常关机时间是：[答案格式：2024-01-01-04-05-06] [★☆☆☆☆]</p><p><strong>2023-04-28-18-51-56</strong></p><p><img src="/../img/%E8%A8%80_pc_2.png" alt="言_pc_2.png"></p><p>3.分析义言的计算机检材，曾经使用工具连接过数据库，该数据库的密码是：[答案格式：admin] [★☆☆☆☆]</p><p><strong>root</strong></p><p>（印证了手机第10题）</p><p><img src="/../img/%E8%A8%80_pc_3.png" alt="言_pc_3.png"></p><p>4.分析义言的计算机检材，计算机中安装的xshell软件的版本号是：[答案格式：Build-0000] [★☆☆☆☆]</p><p><strong>Build-0157</strong></p><p><img src="/../img/%E8%A8%80_pc_3_1.png" alt="言_pc_3_1.png"></p><p>打开bitlocker后验证</p><p><img src="/../img/%E8%A8%80_pc_3_2.png" alt="言_pc_3_2.png"></p><p>5.分析义言的计算机检材，曾使用shell工具连接过服务器，该服务器root用户的密码是：[答案格式：admin] [★★★☆☆]</p><p><strong>root</strong></p><p>打开bitlocker后，重新分析检材</p><p><img src="/../img/%E8%A8%80_pc_3_3.png" alt="言_pc_3_3.png"></p><p>6.分析义言的计算机检材，计算机曾接收到一封钓鱼邮件，该邮件发件人是：[答案格式：<a href="mailto:&#x61;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#x2e;&#97;&#98;&#99;">&#x61;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#x2e;&#97;&#98;&#99;</a>] [★★☆☆☆]</p><p><strong><a href="mailto:&#x38;&#51;&#56;&#50;&#57;&#57;&#49;&#x37;&#x36;&#x40;&#x71;&#113;&#x2e;&#x63;&#x6f;&#109;">&#x38;&#51;&#56;&#50;&#57;&#57;&#49;&#x37;&#x36;&#x40;&#x71;&#113;&#x2e;&#x63;&#x6f;&#109;</a></strong></p><p><img src="/../img/%E8%A8%80_pc_4.png" alt="言_pc_4.png"></p><p>7.接上题，钓鱼邮件中附件的大小是多少MB：[答案格式：12.3] [★★☆☆☆]</p><p><strong>2.4</strong></p><p><img src="/../img/%E8%A8%80_pc_5.png" alt="言_pc_5.png"></p><p>8.接上题，上述附件解压运行后，文件的释放位置是：[答案格式：D:\Download\test] [★★☆☆☆]</p><p><strong>C:\Windows\Temp</strong></p><p><img src="/../img/%E8%A8%80_pc_7.png" alt="言_pc_7.png"></p><p>9.接上题，恶意木马文件的MD5 值是：[答案格式：小写] [★★☆☆☆]</p><p><strong>1877379d9e611ea52befbbe2c2c77c55</strong></p><p><img src="/../img/%E8%A8%80_pc_8.png" alt="言_pc_8.png"></p><p>10.接上题，恶意木马文件的回连IP地址是：[答案格式：127.0.0.1] [★★☆☆☆]</p><p>11.分析义言的计算机检材，计算机中保存的有隐写痕迹的文件名：[答案格式：abc.abc] [★★★☆☆]</p><p><strong>a78bd8b5bec5f60380782bd674c7443p.bmp</strong></p><p>解密加密分区后，回收站会发现多出来一个<code>LSB_hide</code></p><p>搜索后发现是一个bmp图片隐藏工具</p><p><img src="/../img/%E8%A8%80_pc_9_1.png" alt="言_pc_9_1.png"></p><p>搜索bmp</p><p><img src="/../img/%E8%A8%80_pc_9_2.png" alt="言_pc_9_2.png"></p><p>12.分析义言的计算机检材，保存容器密码的文件大小是多少字节：[答案格式：123] [★★★☆☆]</p><p><strong>20</strong></p><p>解密分区后，找到vc加密容器</p><p>使用<code>Extract</code>内的密码，可以成功挂载vc容器</p><p><img src="/../img/%E8%A8%80_pc_10.png" alt="言_pc_10.png"></p><p>查看Extract大小</p><p><img src="/../img/%E8%A8%80_pc_10_2.png" alt="言_pc_10_2.png"></p><p>13.分析义言的计算机内存检材，该内存镜像制作时间(UTC+8)是：[答案格式：2024-01-01-04-05] [★★☆☆☆]</p><p>14.分析义言的计算机内存检材，navicat.exe的进程ID是：[答案格式：123] [★★☆☆☆]</p><h2 id="服务器部分"><a href="#服务器部分" class="headerlink" title="服务器部分"></a>服务器部分</h2><h3 id="IM服务器"><a href="#IM服务器" class="headerlink" title="IM服务器"></a>IM服务器</h3><p>1.分析内部IM服务器检材，在搭建的内部即时通讯平台中，客户端与服务器的通讯端口是：[答案格式：8888] [★☆☆☆☆]</p><p><strong>8065</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker ps<br></code></pre></td></tr></table></figure><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_1.png" alt="服务器_1.png"></p><p>2.分析内部IM服务器检材，该内部IM平台使用的数据库版本是：[答案格式：12.34] [★★☆☆☆]</p><p><strong>12.18</strong></p><p>查看docker环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker inspect 64 | grep -i <span class="hljs-string">&#x27;env&#x27;</span> -C 10<br></code></pre></td></tr></table></figure><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_2_1.png" alt="服务器_2_1.png"></p><p>同时在这里得到了服务器主机ip：172.17.0.1和本地分配的ip：192.169.80.130</p><p>在前面可以知道主机的用户名：root，密码：123456（原来为root，仿真后自动修改了）</p><p>以及数据库的用户名：mmuser，密码：mostest</p><p>可以使用navicat通过ssh远程连接</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_2_2.png" alt="服务器_2_2.png"></p><p>连接成功进入数据库</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_2_3.png" alt="服务器_2_3.png"></p><p>3.分析内部IM服务器检材，该内部IM平台中数据库的名称是：[答案格式：小写] [★★☆☆☆]</p><p><strong>mattermost_test</strong></p><p>见第二题图</p><p>4.分析内部IM服务器检材，该内部IM平台中当前数据库一共有多少张表：[答案格式：1] [★★☆☆☆]</p><p><strong>82</strong></p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_3_1.png" alt="服务器_3_1.png"></p><p>进入数据库后，查看user表，发现密码是bcrypt加密</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_3_3.png" alt="服务器_3_3.png"></p><p>修改为123456</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_3_2.png" alt="服务器_3_2.png"></p><p>5.分析内部IM服务器检材，员工注册的邀请链接中，邀请码是：[答案格式：小写数字字母] [★★★☆☆]</p><p><strong>54d916mu6p858bbyz8f88rmbmc</strong></p><p>登录gxyt账户(管理员)可以看到</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_4.png" alt="服务器_4.png"></p><p>6.分析内部IM服务器检材，用户yiyan一共给fujiya发送了几个视频文件：[答案格式：数字] [★★★☆☆]</p><p><strong>2</strong></p><p>登录yiyan的账户可以看到</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_5.png" alt="服务器_5.png"></p><p>7.分析内部IM服务器检材，用户yiyan在团队群组中发送的视频文件的MD5值是：[答案格式：小写] [★★★☆☆]</p><p><strong>f8adb03a25be0be1ce39955afc3937f7</strong></p><p>下载查询</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_6_1.png" alt="服务器_6_1.png"></p><p>cmd命令</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_6_2.png" alt="服务器_6_2.png"></p><p>8.分析内部IM服务器检材，一个团队中允许的最大用户数是：[答案格式：数字] [★★★★☆]</p><p><strong>50</strong></p><p>登录gxyt的账号，在系统控制台可以看到</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_7.png" alt="服务器_7.png"></p><p>9.分析内部IM服务器检材，黑客是什么时候开始攻击：[答案格式：2024-01-01-04-05] [★★★☆☆]</p><p><strong>2024-04-25-15-33</strong></p><p>2024-04-25 07:33:20.003 Z</p><p>Z:表示UTC时间，转换为北京时间要加8小时</p><p>查看服务器日志可以看到黑客对服务器密码进行爆破</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_8.png" alt="服务器_8.png"></p><h3 id="网站服务器"><a href="#网站服务器" class="headerlink" title="网站服务器"></a>网站服务器</h3><p>1.分析网站服务器检材，网站搭建使用的服务器管理软件当前版本是否支持32位系统：[答案格式：是&#x2F;否] [★☆☆☆☆]</p><p><strong>否</strong></p><p>分析检材发现宝塔</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_9_1.png" alt="服务器_9_1.png"></p><p>仿真登录，按照宝塔面板的常规操作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">bt 5 <span class="hljs-comment"># 修改密码</span><br>bt 14 <span class="hljs-comment"># 显示默认信息</span><br></code></pre></td></tr></table></figure><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_9_2.png" alt="服务器_9_2.png"></p><p>浏览器访问，发现是宝塔开心版</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_9_3.png" alt="服务器_9_3.png"></p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_9_4.png" alt="服务器_9_4.png"></p><p>2.分析网站服务器检材，数据库备份的频率是一周多少次：[答案格式：1] [★★☆☆☆]</p><p><strong>1</strong></p><p>在Linux系统中，<code>crontab</code> 是一个用于设置周期性被执行的任务的命令。<code>crontab -l</code> 命令用于列出当前用户所有的 crontab 文件中的任务。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crontab -l<br></code></pre></td></tr></table></figure><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_10.png" alt="服务器_10.png"></p><p><code>0 0 * * 0 /root/backup.sh</code>表示每个星期日的00:00:00执行一次，所以每周一次</p><p>3.分析网站服务器检材，数据库备份生成的文件的密码是：[答案格式：admin] [★★☆☆☆]</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">IvPGP/8vfTLtzQfJTmQhYg==<br></code></pre></td></tr></table></figure><p>备份文件为DES3加密，密码为$AES_PASS的值，是使用OpenSSL生成一个的AES-256加密的值</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_11_1.png" alt="服务器_11_1.png"></p><p>使用OpenSSL再生成一次密码即可</p><p><img src="/../img/%E6%9C%8D%E5%8A%A1%E5%99%A8_11_2.png" alt="服务器_11_2.png"></p><p>4.分析网站服务器检材，网站前台首页的网站标题是：[答案格式：百度] [★★★☆☆]</p><p>5.分析网站服务器检材，受害人第一次成功登录网站的时间是：[答案格式：2024-01-01-04-05] [★★★☆☆]</p><p>6.分析网站服务器检材，前台页面中，港澳数字竞猜游戏中，进入贵宾厅最低点数是：[答案格式：1234] [★★★☆☆]</p><p>7.分析网站服务器检材，受害人在平台一共盈利了多少钱：[答案格式：12] [★★☆☆☆]</p><p>8.分析网站服务器检材，网站根目录下，哪个路径存在漏洞：[答案格式：&#x2F;Admin&#x2F;User&#x2F;register.php] [★★★☆☆]</p><p>9.分析网站服务器检材，黑客通过哪个文件上传的木马文件：[答案格式：test.php] [★☆☆☆☆]</p><p>10.分析网站服务器检材，木马文件的密码是：[答案格式：123] [★☆☆☆☆]</p><h2 id="人工智能部分"><a href="#人工智能部分" class="headerlink" title="人工智能部分"></a>人工智能部分</h2><p>1.分析义言的计算机检材，一共训练了多少个声音模型：[答案格式：123] [★★☆☆☆]</p><p><strong>4</strong></p><p>GPT-SoVITS-beta0217是AI语音合成项目</p><p>训练的模型会留下日志，所以总共训练了4个</p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_1.png" alt="人工智能_1.png"></p><p>2.分析义言的计算机检材，声音模型voice2，一共训练了多少条声音素材：[答案格式：123] [★★☆☆☆]</p><p><strong>17</strong></p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_2.png" alt="人工智能_2.png"></p><p>3.分析义言的计算机检材，声音模型voice3，一共训练了多少轮：[答案格式：123] [★★★☆☆]</p><p><strong>8</strong></p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_3.png" alt="人工智能_3.png"></p><p>4.分析义言的计算机检材，声音克隆工具推理生成语音界面的监听端口是：[答案格式：1234] [★★★★☆]</p><p><strong>9874</strong></p><p>执行go-webui.bat启动项目</p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_4_1.png" alt="人工智能_4_1.png"></p><p>运行在9874端口</p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_4_2.png" alt="人工智能_4_2.png"></p><p>5.分析义言的计算机检材，电脑中视频文件有几个被换过脸：[答案格式:10] [★★★★★]</p><p>6.分析义言的计算机检材，换脸AI程序默认换脸视频文件名是：[答案格式：test.mp4] [★★☆☆☆]</p><p><strong>target-1080p.mp4</strong></p><p>该软件的默认视频文件夹是<code>videos</code></p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_6.png" alt="人工智能_6.png"></p><p>7.分析义言的计算机检材，换脸AI程序默认换脸图片的文件名称：[答案格式：abc.abc] [★★☆☆☆]</p><p><strong>fc3d6cb14c0d4e52adcf8717f2740b5c.jpeg</strong></p><p>换脸图片文件在faces目录</p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_7.png" alt="人工智能_7.png"></p><p>8.分析义言的计算机检材，换脸AI程序模型文件数量是多少个：[答案格式：10] [★★☆☆☆]</p><p><strong>15</strong></p><p><img src="/../img/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_8.png" alt="人工智能_8.png"></p>]]></content>
    
    
    <categories>
      
      <category>电子取证</category>
      
    </categories>
    
    
    <tags>
      
      <tag>盘古石杯</tag>
      
      <tag>电子取证</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023盘古石杯</title>
    <link href="/2024/05/09/2023pangushi/"/>
    <url>/2024/05/09/2023pangushi/</url>
    
    <content type="html"><![CDATA[<h1 id="2023盘古石杯（未做）"><a href="#2023盘古石杯（未做）" class="headerlink" title="2023盘古石杯（未做）"></a>2023盘古石杯（未做）</h1><p>Android程序分析</p><p>​    1.涉案应用刷刷樂的签名序列号是(答案格式：123ca12a)(★☆☆☆☆)</p><p>​    2.涉案应用刷刷樂是否包含读取短信权限(答案格式：是&#x2F;否)(★★☆☆☆)</p><p>​    3.涉案应用刷刷樂打包封装的调证ID值是(答案格式：123ca12a)(★★☆☆☆)</p><p>​    4.涉案应用刷刷樂服务器地址域名是(答案格式：axa.baidun.com)(★★★☆☆)</p><p>​    5.涉案应用刷刷樂是否存在录音行为(答案格式：是&#x2F;否)(★★★☆☆)</p><p>​    6.涉案应用未来资产的包名是(答案格式：axa.baidun.com)(★☆☆☆☆)</p><p>​    7.涉案应用未来资产的语音识别服务的调证key值是(答案格式：1ca2jc)(★★☆☆☆)</p><p>​    8.涉案应用未来资产的服务器地址域名是(答案格式：axa.baidun.com)(★★★☆☆)</p><p>​    9.涉案应用未来资产的打包封装的调证ID值是是(答案格式：axa.baidun.com)(★★☆☆☆)</p><p>移动智能终端取证</p><p>​    1.根据容恨寒的安卓手机分析，手机的蓝牙物理地址是(答案格式：B9:8B:35:8B:03:52)(★☆☆☆☆)</p><p>A9:8B:34:8B:04:50</p><p>​    2.根据容恨寒的安卓手机分析，SIM卡的ICCID是(答案格式：80891103212348510720)(★☆☆☆☆)</p><p>89014103211118510720</p><p>​    3.根据容恨寒的安卓手机分析，团队内部沟通的聊天工具程序名称是(答案格式：微信)(★☆☆☆☆)</p><p>Potato</p><p>​    <strong>4.根据容恨寒的安卓手机分析，团队内部沟通容恨寒收到的最后一条聊天信息内容是(答案格式：好的)(★★★☆☆)</strong></p><p>​    5.根据容恨寒的安卓手机分析，收到的刷单.rar的MD5值是(答案格式：202cb962ac59075b964b07152d234b70)(★★☆☆☆)</p><p>dc52d8225fd328c592841cb1c3cd1761</p><p>​     <strong>6.根据容恨寒的安卓手机分析，收到的刷单.rar的解压密码是(答案格式：abcdg@1234@hd)(★★★☆☆)</strong></p><p>​    <strong>7.根据容恨寒的安卓手机分析，发送刷单.rar的用户的手机号是(答案格式：15137321234)(★★★★☆)</strong></p><p>​    <strong>8.根据容恨寒的安卓手机分析，发送多个报表的用户来自哪个部门(答案格式：理财部)(★★★★★)</strong></p><p>​    9.根据容恨寒的安卓手机分析，MAC的开机密码是(答案格式：asdcz)(★☆☆☆☆)</p><p>apple</p><p>​    10.根据容恨寒的安卓手机分析，苹果手机的备份密码前4位是(答案格式：1234)(★☆☆☆☆)</p><p>1976</p><p>​    11.根据魏文茵苹果手机分析，IMEI号是？(答案格式:239471000325479)(★☆☆☆☆)</p><p>358360063200634</p><p>​    12.根据魏文茵苹果手机分析，可能使用过的电话号码不包括？(答案格式:13527821339)(★☆☆☆☆)</p><p>A：18043618705 B：19212175391 C:19212159177 D:18200532661</p><p>D</p><p>​    13.根据臧觅风的安卓手机分析，微信ID是(答案格式：wxid_av7b3jbaaht123)(★☆☆☆☆)</p><p>wxid_kr7b3jbooht322</p><p>​    14.根据臧觅风的安卓手机分析，在哪里使用过交友软件(答案格式：杭州)(★★★☆☆)</p><p>西安</p><p>​    15.根据臧觅风的安卓手机分析，嫌疑人从哪个用户购买的源码，请给出出售源码方的账号(答案格式：1234524229)(★☆☆☆☆)</p><p>5768224669</p><p>​    16.根据臧觅风的安卓手机分析，购买源码花了多少BTC？(答案格式：1.21)(★☆☆☆☆)</p><p>0.08</p><p>​    17.根据臧觅风的安卓手机分析，接收源码的邮箱是(答案格式：<a href="mailto:&#x61;&#x73;&#100;&#97;&#115;&#100;&#x36;&#54;&#54;&#x40;&#104;&#111;&#x74;&#109;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;">&#x61;&#x73;&#100;&#97;&#115;&#100;&#x36;&#54;&#54;&#x40;&#104;&#111;&#x74;&#109;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;</a>)(★☆☆☆☆)</p><p><a href="mailto:&#109;&#111;&#x6c;&#x69;&#104;&#x75;&#x61;&#x63;&#x68;&#97;&#x30;&#x30;&#x37;&#64;&#x68;&#111;&#116;&#x6d;&#97;&#105;&#x6c;&#x2e;&#x63;&#111;&#x6d;">&#109;&#111;&#x6c;&#x69;&#104;&#x75;&#x61;&#x63;&#x68;&#97;&#x30;&#x30;&#x37;&#64;&#x68;&#111;&#116;&#x6d;&#97;&#105;&#x6c;&#x2e;&#x63;&#111;&#x6d;</a></p><p>​    18.嫌疑人容恨寒苹果手机的IMEI是?(★★☆☆☆)</p><p>​    19.嫌疑人容恨寒苹果手机最后备份时间是?(答案格式:2000-01-01 13:36:25)(★★☆☆☆)<br>​    20.嫌疑人容恨寒苹果手机“易信”的唯一标识符（UUID）？(★★★★☆)<br>​    21.嫌疑人容恨寒苹果手机微信ID是?★☆☆☆☆)</p><p>计算机取证</p><p>​    1.嫌疑人魏文茵计算机的操作系统版本?(答案格式:Windows 7 Ultimate 8603)(★☆☆☆☆)</p><p>Windows 10 Pro 14393</p><p>​    2.嫌疑人魏文茵计算机默认的浏览器是?(答案格式:Internet Explorer)(★☆☆☆☆)</p><p>Google Chrome</p><p>​    3.嫌疑人魏文茵计算机中以下那个文档不是嫌疑人最近打开过的文档?(答案格式:D)(★☆☆☆☆)A：掠夺攻略.docx B：工资表.xlsx C:刷单秘籍.docx D:脚本.docx</p><p>A：掠夺攻略</p><p>​    4.嫌疑人魏文茵计算机中存在几个加密分区?(答案格式:3个)(★★☆☆☆)</p><p>1</p><p>​    5.嫌疑人魏文茵计算机中安装了哪个第三方加密容器?(答案格式:VeraCrypt))(★☆☆☆☆)</p><p>TrueCrypt</p><p>​    6.接上题，嫌疑人魏文茵计算机中加密容器加密后的容器文件路径？(答案格式:C:\xxx\xxx)(★★☆☆☆)</p><p>​    7.嫌疑人魏文茵计算机中磁盘分区BitLocker加密恢复秘钥为?(答案格式: 000000-000000-000000-000000-000000-000000-000000-000000))(★★★☆☆)</p><p>​    8.嫌疑人魏文茵计算机中BitLocker加密分区中“攻略.docx”文档里涉及多少种诈骗方式?(答案格式:11)(★☆☆☆☆)</p><p>​    9.投资理财团伙“华中组”目前诈骗收益大约多少?(答案格式:10万)(★★☆☆☆)<br>​    10.通过对嫌疑人魏文茵计算机内存分析，print.exe的PID是？(答案格式:123)(★★☆☆☆)<br>​    11.根据臧觅风的计算机分析，请给出技术人员计算机“zang.E01”的SHA-1?(答案格式:7B2DC1741AE00D7776F64064CDA321037563A769)(★☆☆☆☆)<br>​    12.根据臧觅风的计算机分析，请给出该技术人员计算机“zang.E01”的总扇区数？(答案格式:100,000,000)(★★☆☆☆)<br>​    13.根据臧觅风的计算机分析，以下那个文件不是技术人员通过浏览器下载的？(答案格式:A)(★☆☆☆☆)<br>​    14.根据臧觅风的计算机分析，请给出该技术人员邮件附件“好东西.zip”解压密码？(答案格式:abc123)(★★★★★)<br>​    15.根据臧觅风的计算机分析，该技术人员电脑内曾通过远程管理工具连接过服务器“master.k8s.com”,请给出连接的端口号？(答案格式:22)(★★☆☆☆)<br>​    16.根据臧觅风的计算机分析，接上题，请给出服务器的密码？(答案格式:password(★★★★☆)<br>​    17.根据臧觅风的计算机分析，据该技术人员交代，其电脑内有个保存各种密码的txt文件，请找出该文件，计算其MD5值？(答案格式:7B2DC1741AE00D7776F64064CDA321037563A769)(★★★★★)<br>​    18.根据臧觅风的计算机分析，该技术人员曾使用过加密容器反取证技术，请给出该容器挂载的盘符？(答案格式:A)(★☆☆☆☆)<br>​    19.根据臧觅风的计算机分析，请给出该技术人员电脑内keePass的Master Password？(答案格式:password12#)(★★★★☆)<br>​    20.根据臧觅风的计算机分析，请给出该技术人员所使用的爬虫工具名称？(答案格式:xxx)(★★☆☆☆)<br>​    21.根据臧觅风的计算机分析，接上题，该技术人员通过该采集器一共采集了多少条人员信息数据？(答案格式:10,000)(★★★★★)<br>​    22.根据臧觅风的计算机分析，以下那个不是该技术人员通过爬虫工具采集的数据？(答案格式:A)(★☆☆☆☆)<br>​    23.根据臧觅风的计算机分析，该嫌疑人曾浏览过“阿里云WebDAV”，请给出该“阿里云WebDAV”端口号？(答案格式:2211)(★★☆☆☆)<br>​    24.根据臧觅风的计算机分析，请给出该技术人员电脑内代理软件所使用的端口号？(答案格式:2211)(★★☆☆☆)<br>​    25.根据臧觅风的计算机分析，接上题，请给出该代理软件内订阅链接的token？(答案格式:abc1234df334…)(★★☆☆☆)<br>​    26.根据臧觅风的计算机分析，请给出该技术人员电脑内用于内部通联工具的地址和端口？(答案格式:<a href="http://www.baidu.com:1122)(★★★☆☆)">www.baidu.com:1122)(★★★☆☆)</a><br>​    27.根据臧觅风的计算机分析，请给出该电脑内存镜像创建的时间（北京时间）？(答案格式:2023-05-06 14:00:00)(★☆☆☆☆)<br>​    28.根据臧觅风的计算机分析，以下那个不是“chrone.exe”的动态链接库？(答案格式:A)(★★★★☆)<br>​    29.根据臧觅风的计算机分析，请给出“\REGISTRY\MACHINE\SYSTEM”在内存镜像中的虚拟地址是多少？(答案格式:0xxxxx123…)(★★☆☆☆)<br>​    30.根据臧觅风的计算机分析，据嫌疑人交代，其电脑上曾存打开过一个名为“账号信息.docx”的文档，请给出该文档的最后访问时间（北京时间）？(答案格式:2023-05-06 14:00:00)(★★★★☆)<br>​    31.根据臧觅风的计算机分析，接上题，请给出该文档的存储路径？(答案格式:C:\xxx\xxx)(★★★☆☆)<br>​    32.嫌疑人容恨寒苹果电脑的系统版本名称是？(答案格式:注意大小写)(★☆☆☆☆)<br>​    33.嫌疑人容恨寒苹果电脑操作系统安装日期是？(答案格式:2000-01-01)(★★☆☆☆)<br>​    34.嫌疑人容恨寒苹果电脑的内核版本是？(答案格式:xxxxx 11.0.4，注意大小写)(★☆☆☆☆)<br>​    35.嫌疑人容恨寒苹果电脑有多少正在运行的后台程序？(答案格式:20)(★★☆☆☆)<br>​    36.嫌疑人容恨寒苹果电脑最后一次关机时间（GMT）？(答案格式:2000-01-01 01:00:09)(★★☆☆☆)<br>​    37.嫌疑人容恨寒苹果电脑执行过多少次查询主机名称命令？(答案格式:20)(★★★☆☆)<br>​    38.从嫌疑人容恨寒苹果电脑中找出“陆文杰”提现金额是？(答案格式:20)(★★★★☆)<br>​    39.从嫌疑人容恨寒苹果电脑中找出嫌疑人容恨寒上午上班时长是？(答案格式:8小时)(★★★★☆)<br>​    40.从嫌疑人容恨寒苹果电脑中找出“万便”的邮箱是？(答案格式:<a href="mailto:&#x78;&#120;&#120;&#64;&#120;&#x78;&#120;&#46;&#120;&#120;">&#x78;&#120;&#120;&#64;&#120;&#x78;&#120;&#46;&#120;&#120;</a>)(★★★★☆)<br>​    41.通过分析得出嫌疑人容恨寒小孩的年龄是？(答案格式:10岁)(★★★☆☆)</p><p>二进制文件分析</p><p>​    1.根据魏文茵的计算机分析，恶意程序加了什么类型的壳(答案格式：asdcz)(★★☆☆☆)<br>​    2.根据魏文茵的计算机分析，恶意程序调用了几个dll(答案格式：1)(★★★☆☆)<br>​    3.根据魏文茵的计算机分析，恶意程序中send函数被多少个函数调用(答案格式：1)(★★★☆☆)<br>​    4.根据魏文茵的计算机分析，恶意程序远控端ip(答案格式：120.1.2.3)(★★☆☆☆)<br>​    5.根据魏文茵的计算机分析，恶意程序远控端端口(答案格式：123)(★★☆☆☆)<br>​    6.根据魏文茵的计算机分析，恶意程序用到是tcp还是udp(★★★☆☆)<br>​    7.根据魏文茵的计算机分析，恶意程序能执行几条命令(答案格式：123)(★★★★☆)<br>​    8.根据魏文茵的计算机分析，恶意程序加密电脑文件对应是哪个命令(答案格式：1a)(★★★☆☆)<br>​    9.(多选题)根据魏文茵的计算机分析，恶意程序加密哪些后缀文件(★★★☆☆)<br>​    10.根据魏文茵的计算机分析，编写该程序电脑的用户名是(答案格式：12345)(★★★★★)<br>​    11.嫌疑人魏文茵计算机中“工资表.xlsx”中，发放工资总金额为：(答案格式:12345))(★★★★★)</p><p>暗网取证</p><p>​    1.臧觅风电脑使用暗网浏览器版本是？(答案格式：10.0.0)(★☆☆☆☆)<br>​    2.臧觅风电脑使用的暗网浏览器历史记录中最多浏览内容是？(答案格式：制作)(★★☆☆☆)<br>​    3.臧觅风电脑使用的暗网网浏览器书签“社工库”添加的时间是？(答案格式：2000-01-01 01:00:09)(★★★★☆)<br>​    4.臧觅风电脑使用的暗网浏览器第一次使用时间是？(答案格式：2000-01-01 01:00:09)(★★★☆☆)<br>​    5.臧觅风电脑使用的暗网浏览器扩展应用中“ftp.js”文件的md5值是？(答案格式：字母小写)(★★★★★)</p><p>物联取证</p><pre><code class="hljs">* 前期配置部分    1.请给出该软路由管理的IP地址？(答案格式:192.168.1.1)(★☆☆☆☆)    2.请给出该软路由管理员的密码？(答案格式:admin123!@#)(★★★☆☆)    3.请给出阿里云WebDAV的token？(答案格式:bac123sasdew3212…)(★★☆☆☆)    4.请给出该软路由所用机场订阅的token？(答案格式:bac123sasdew3212…)(★★☆☆☆)    5.请给出该软路由数据卷的UUID？(答案格式:8adn28hd-00c0c0c0…)(★★☆☆☆)    6.请给出该软路由的共享路径？(答案格式:/home/data)(★★☆☆☆)</code></pre><p>服务器取证</p><pre><code class="hljs">* 前期配置部分    1.请给出IM服务器的当前Build版本？(答案格式:11111)(★☆☆☆☆)    2.请给出IM聊天服务的启动密码？(答案格式:3w.Baidu.com)(★★★★★)    3.请给出该聊天服务器所用的PHP版本？(答案格式:7.2.5)(★★★★☆)    4.请给出该服务器所用的数据库类型及版本？(答案格式:mysql 5.7.1)(★★★★★)    5.请给出该服务器MySQL数据库root账号的密码？(答案格式:3w.baidu.com)(★★★★★)    6.请给该IM服务器内当前企业所使用的数据库？(答案格式:admin_admin)(★★★★☆)    7.请给出该组织“usdtreclub”内共有多少个部门（不含分区）？(答案格式:1)(★★★☆☆)    8.客户端消息传输采用哪种加密形式？(答案格式:A)(★★☆☆☆)    9.以下那个不是此系统提供的应用？(答案格式:A)(★★☆☆☆)    10.请给出“ 2023-04-11 21:48:14”登录成功此系统的用户设备MAC地址？(答案格式:08-AA-33-DF-1A)(★★★☆☆)    11.请给出用户“卢正文”的手机号码？(答案格式:13888888888)(★★★★☆)</code></pre><p>集群服务器取证</p><pre><code class="hljs">* 前期配置部分    1.请给出集群master节点的内核版本？(答案格式:2.6.0-104.e11.x86_64)(★☆☆☆☆)    2.请给出该集群的pod网络？(答案格式:192.168.0.0/24)(★★★★☆)    3.请给出该集群所用的网络插件？(答案格式:abcd)(★★☆☆☆)    4.默认ns除外，本集群共有多少个ns？(答案格式:1)(★★★☆☆)    5.请给出该集群的集群IP？(答案格式:192.168.0.0)(★★☆☆☆)    6.请给出该ns为“licai”svc为“php-svc”的访问类型？(答案格式:Abc)(★★☆☆☆)    7.请给出ns为“shuadan”下的的PHP版本？(答案格式:1.1)(★★★★★)    8.请给出本机集群所使用的私有仓库地址？(答案格式:192.168.0.0)(★★★★☆)    9.接上题，请给出登录该私有仓库所用的token？(答案格式:bae213ionada21…)(★★★★★)    10.请给出“licaisite”持久化存储的大小？(答案格式:10G)(★★☆☆☆)    11.接上题，请给出对应的存储持久化声明名称？(答案格式:abc-abc)(★★★☆☆)    12.请给出集群内部署网站所使用数据库的IP地址和端口号？(答案格式:192.168.0.0:8080)(★★★☆☆)    13.请给出网站“vip.kefu.com”所使用的端口号？(答案格式:8080)(★★☆☆☆)    14.请给出网站“vip.shuadan.com”连接数据库所使用的账号和密码？(答案格式root/password)(★★★★★)    15.请给出调证数据库的版本号？(答案格式5.7.1)(★★★★★)    * 本地重构网站        16.请给出刷单网站客服域名？(★★★★★)        17.请给出理财客服系统用户“admin”共有多少个会话窗口？(答案格式:123)(★★★★★)        18.刷单客服是嵌套在刷单源码下那个文件内，请给出该文件在网站源码内的目录和文件名？(答案格式:www.baidu.com:8080/login.html)(★★★★★)        19.请统计出刷单网站后台累计提现成功的金额？(答案格式:1000)(★☆☆☆☆)        20.请给出受害人上级的电话号码？(答案格式:13888888888)(★★★☆☆)        21.请给出刷单网站受害人加款的时间（北京时间）？(答案格式:2023-05-06 14:00:00)(★★★☆☆)        22.该理财网站曾经被挂马，请给出上传木马者的IP？(答案格式:192.168.10.10)(★★★☆☆)        23.接上题，请找到此木马，计算该木马的md5？(答案格式:123dadgadad332...)(★★★☆☆)        24.请统计该投资理财平台累计交易额为多少亿？(答案格式:1.8)(★★☆☆☆)        25.请给出该虚拟币投资平台内用户“李国斌”的银行卡号？(答案格式:622222222222222)(★★★☆☆)        26.分析该虚拟币投资平台财务明细表，用户“13912345678”共支出多少钱（cnc）, 结果保留两位小数？(答案格式:10000.00)(★★★★★)</code></pre>]]></content>
    
    
    <categories>
      
      <category>电子取证</category>
      
    </categories>
    
    
    <tags>
      
      <tag>盘古石杯</tag>
      
      <tag>电子取证</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RSA</title>
    <link href="/2024/05/04/RSA/"/>
    <url>/2024/05/04/RSA/</url>
    
    <content type="html"><![CDATA[<h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1><p>RSA算法是一种非对称加密算法，由Ron Rivest、Adi Shamir和Leonard Adleman于1977年发明，并以他们的姓氏首字母命名。RSA算法基于大数分解的难题，即分解两个大素数乘积的难度，这是RSA算法的安全基础。</p><h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><h3 id="1-密钥生成"><a href="#1-密钥生成" class="headerlink" title="1.密钥生成"></a><strong>1.密钥生成</strong></h3><ul><li>选择两个大质数p和q。</li><li>计算n &#x3D; p * q，n是加密密钥。</li><li>计算欧拉函数φ(n) &#x3D; (p-1) * (q-1)。</li><li>选择一个小于φ(n)的整数e，使得e和φ(n)互质（即它们的最大公约数为1）。</li><li>计算d，使得e * d ≡ 1 (mod φ(n))。d是解密密钥。</li></ul><h3 id="2-密钥分发"><a href="#2-密钥分发" class="headerlink" title="2.密钥分发"></a><strong>2.密钥分发</strong></h3><ul><li>公开n和e，作为公钥。</li><li>保密d，作为私钥。</li></ul><h3 id="3-加密"><a href="#3-加密" class="headerlink" title="3.加密"></a><strong>3.加密</strong></h3><ul><li>使用公钥（n和e）进行加密。</li><li>选择明文消息m（0 &lt; m &lt; n）。</li><li>计算密文c &#x3D; m^e (mod n)。</li></ul><h3 id="4-解密"><a href="#4-解密" class="headerlink" title="4.解密"></a><strong>4.解密</strong></h3><ul><li>使用私钥（n和d）进行解密。</li><li>计算明文m &#x3D; c^d (mod n)。</li></ul><h2 id="素性检验"><a href="#素性检验" class="headerlink" title="素性检验"></a>素性检验</h2><h3 id="试除法"><a href="#试除法" class="headerlink" title="试除法"></a>试除法</h3><p>（Trial Division）是一种简单但效率较低的素数检验方法。它通过尝试将给定的数n除以所有小于等于n的质数来判断n是否为素数。如果n可以被任何一个这样的质数整除，那么n就不是素数。如果n不能被任何一个这样的质数整除，那么n可能是素数。<br>试除法的步骤如下：</p><ol><li>选择一个质数p，p可以是从2开始的任意质数。</li><li>计算n除以p的余数r。</li><li>如果r等于0，则n不是素数。</li><li>如果r不等于0，选择下一个质数p+1，重复步骤2和3。</li><li>如果对所有小于等于√n的质数p，n都不能被整除，那么n可能是素数。</li></ol><p>这种方法的时间复杂度是O(n^1&#x2F;2)，因为它需要尝试所有小于等于√n的质数。因此，对于非常大的数，试除法非常慢。此外，试除法对于某些合数可能会产生假阳性，即错误地判断合数为素数。<br>在实际应用中，试除法通常用于较小的数或者作为其他更高效素性检验方法的辅助。对于较大的数，通常会使用米勒-拉宾素性检验等更高效的概率性方法。</p><h5 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_prime</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">if</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-comment"># 检查n是否为合数</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-built_in">int</span>(n**<span class="hljs-number">0.5</span>) + <span class="hljs-number">1</span>, <span class="hljs-number">2</span>):<br>        <span class="hljs-keyword">if</span> n % i == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>is_prime</code>函数用于执行试除法。它首先检查n是否小于等于1，如果是，则返回False。然后，它检查n是否小于等于3，如果是，则返回True。接下来，它检查n是否可以被2整除，如果是，则返回False。最后，它通过循环检查n是否可以被所有小于等于n的奇数整除。如果n不能被任何一个这样的数整除，那么它可能是素数。</p><h3 id="米勒-拉宾素性检验"><a href="#米勒-拉宾素性检验" class="headerlink" title="米勒-拉宾素性检验"></a>米勒-拉宾素性检验</h3><p>（Miller-Rabin Primality Test）是一种概率性素性检验算法，用于判断一个数是否为素数。该算法基于一个称为费马小定理的数学原理，并经过优化，使其具有较高的效率和较低的错误率。<br>米勒-拉宾素性检验的基本步骤如下：</p><ol><li>选择一个随机数a，a是2到n-2之间的整数。</li><li>计算r &#x3D; n - 1，然后找到r的欧几里得算法除数d，满足d * 2^r ≡ 1 (mod n)。</li><li>计算x &#x3D; a^d (mod n)。</li><li>如果x &#x3D; 1或x &#x3D; n-1，则n可能是素数。</li><li>对于k &#x3D; 0到s-1，执行以下步骤：<ul><li>将r除以2，得到r_i &#x3D; r &#x2F; 2^i。</li><li>计算x &#x3D; x^2 (mod n)。</li><li>如果x &#x3D; 1，则n是合数。</li><li>如果x &#x3D; n-1，则继续下一次迭代。</li><li>如果x^r_i ≡ -1 (mod n)，则n是合数。</li></ul></li><li>如果所有迭代都没有发现n是合数，则n是素数。<br> 其中，s是测试的迭代次数，s越大，错误率越低。</li></ol><h5 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">miller_rabin_primality_check</span>(<span class="hljs-params">n, k=<span class="hljs-number">20</span></span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   米勒-拉宾素性检验</span><br><span class="hljs-string">   由于假设n是一个素数，n-1=a^s*d,s和d是常量，改变a的值，检测20次</span><br><span class="hljs-string">   :param n:</span><br><span class="hljs-string">   :param k:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">assert</span> n &gt; <span class="hljs-number">3</span><br>   <span class="hljs-keyword">if</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>       <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>   <span class="hljs-comment"># 找出n-1 = 2^s*d</span><br>   s, d = <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span><br>   <span class="hljs-keyword">while</span> d % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>       d &gt;&gt;= <span class="hljs-number">1</span><br>       s += <span class="hljs-number">1</span><br><br>   <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>       a = randrange(<span class="hljs-number">2</span>, n - <span class="hljs-number">1</span>)<br>       x = <span class="hljs-built_in">pow</span>(a, d, n)<br><br>       <span class="hljs-keyword">if</span> x == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> x == n - <span class="hljs-number">1</span>:<br>           <span class="hljs-keyword">continue</span><br><br>       <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s):<br>           x = <span class="hljs-built_in">pow</span>(x, <span class="hljs-number">2</span>, n)<br>           <span class="hljs-keyword">if</span> x == n - <span class="hljs-number">1</span>:<br>               <span class="hljs-keyword">break</span><br>       <span class="hljs-keyword">else</span>:<br>           <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>miller_rabin</code>函数用于执行米勒-拉宾素性检验。我们选择了一个随机数a，并进行了s次迭代。如果n通过了所有迭代，则我们认为是素数。如果n没有通过所有迭代，我们仍然不能确定它是合数，因为我们使用的是概率性测试。</p><h2 id="快速模幂算法"><a href="#快速模幂算法" class="headerlink" title="快速模幂算法"></a>快速模幂算法</h2><p>（Fast Modular Exponentiation）是一种用于计算大数模幂运算的算法，其时间复杂度为O(log n)，其中n是指数的大小。这种算法特别适用于RSA加密算法中的密钥生成和加密过程。</p><p>快速模幂算法的基本思想是将指数n分解为二进制形式，并利用模运算的性质来简化计算。</p><p>具体步骤如下：</p><ol><li><strong>初始化</strong>：<ul><li>设置结果 <code>result = 1</code>。</li><li>设置底数 <code>base = base</code>。</li><li>设置模数 <code>modulus = modulus</code>。</li></ul></li><li><strong>二进制分解</strong>：<ul><li>将指数n转换为二进制形式，并计算其长度 <code>bit_length = len(bin(n)) - 2</code>。</li></ul></li><li><strong>循环计算</strong>：<ul><li>循环 <code>i = 0</code> 到 <code>bit_length - 1</code>。</li><li>在每次迭代中，将 <code>result</code> 乘以 <code>result</code>（即 <code>result = result * result mod modulus</code>）。</li><li>如果 <code>n &amp; (1 &lt;&lt; i)</code> 等于1（即二进制位的值为1），则将 <code>base</code> 乘以 <code>result</code>（即 <code>result = base * result mod modulus</code>）。</li></ul></li><li><strong>返回结果</strong>：<ul><li>循环结束后，<code>result</code> 将是 <code>base^n mod modulus</code> 的结果。<br>快速模幂算法的一个关键优化是<strong>使用模平方来减少乘法运算</strong>。这样可以避免在每次迭代中都需要进行乘法运算，从而显著提高算法的效率。</li></ul></li></ol><h5 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fast_mod_pow</span>(<span class="hljs-params">base, exponent, modulus</span>):<br>    result = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> exponent &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">if</span> exponent &amp; <span class="hljs-number">1</span>:<br>            result = (result * base) % modulus<br>        base = (base * base) % modulus<br>        exponent &gt;&gt;= <span class="hljs-number">1</span>  <span class="hljs-comment"># 右移一位，相当于除以2</span><br>    <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>在这个例子中，<code>fast_mod_pow</code>函数用于计算 <code>base^exponent mod modulus</code>。我们首先将指数转换为二进制形式，然后使用循环和模平方来计算结果。最后，我们打印出计算结果。</p><h2 id="扩展欧几里得算法"><a href="#扩展欧几里得算法" class="headerlink" title="扩展欧几里得算法"></a>扩展欧几里得算法</h2><p>扩展欧几里得算法（Extended Euclidean Algorithm）是欧几里得算法的一个变体，它不仅找到两个整数a和b的最大公约数gcd(a, b)，还找到一组整数x和y，使得等式ax + by &#x3D; gcd(a, b)成立。这组整数x和y被称为扩展欧几里得算法的解。<br>扩展欧几里得算法的基本步骤如下：</p><ol><li>如果a等于0，那么gcd(a, b)就是b，x是0，y是1。</li><li>如果b等于0，那么gcd(a, b)就是a，x是1，y是0。</li><li>否则，计算gcd(b, a % b)，并设x1、y1为x和y的值。</li><li>设置新的a为原来的b，新的b为x1，新的x为y1，新的y为x - (a &#x2F;&#x2F; b) * y1。</li><li>重复步骤3和4，直到b为0。</li></ol><p>扩展欧几里得算法的时间复杂度是O(log(min(a, b)))，因为每一步都减半了b的大小。</p><h5 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">extended_euclidean</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">if</span> a == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> b, <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        gcd, x1, y1 = extended_euclidean(b % a, a)<br>        x = y1 - (b // a) * x1<br>        y = x1<br>        <span class="hljs-keyword">return</span> gcd, x, y<br></code></pre></td></tr></table></figure><p>在这个例子中，<code>extended_euclidean</code>函数用于计算 <code>gcd(a, b)</code> 以及满足等式 <code>ax + by = gcd(a, b)</code> 的整数x和y。我们首先检查a是否等于0，如果是，则返回b和相应的x、y值。否则，我们递归地调用扩展欧几里得算法，直到b为0。最后，我们打印出gcd、x和y的值。</p><h1 id="RSA代码实现"><a href="#RSA代码实现" class="headerlink" title="RSA代码实现"></a>RSA代码实现</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randrange<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_n_bit_odd</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   生成大数,不确定是不是素数</span><br><span class="hljs-string">   :param n:</span><br><span class="hljs-string">   :return:大数</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">assert</span> n &gt; <span class="hljs-number">1</span><br>   <span class="hljs-keyword">return</span> randrange(<span class="hljs-number">2</span> ** (n - <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>, <span class="hljs-number">2</span> ** n, <span class="hljs-number">2</span>)<br><br><br>first_50_primes = [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">23</span>, <span class="hljs-number">29</span>, <span class="hljs-number">31</span>,<br>                  <span class="hljs-number">37</span>, <span class="hljs-number">41</span>, <span class="hljs-number">43</span>, <span class="hljs-number">47</span>, <span class="hljs-number">53</span>, <span class="hljs-number">59</span>, <span class="hljs-number">61</span>, <span class="hljs-number">67</span>, <span class="hljs-number">71</span>, <span class="hljs-number">73</span>,<br>                  <span class="hljs-number">79</span>, <span class="hljs-number">83</span>, <span class="hljs-number">89</span>, <span class="hljs-number">97</span>, <span class="hljs-number">101</span>, <span class="hljs-number">103</span>, <span class="hljs-number">107</span>, <span class="hljs-number">109</span>, <span class="hljs-number">113</span>, <span class="hljs-number">127</span>,<br>                  <span class="hljs-number">131</span>, <span class="hljs-number">137</span>, <span class="hljs-number">139</span>, <span class="hljs-number">149</span>, <span class="hljs-number">151</span>, <span class="hljs-number">157</span>, <span class="hljs-number">163</span>, <span class="hljs-number">167</span>, <span class="hljs-number">173</span>, <span class="hljs-number">179</span>,<br>                  <span class="hljs-number">181</span>, <span class="hljs-number">191</span>, <span class="hljs-number">193</span>, <span class="hljs-number">197</span>, <span class="hljs-number">199</span>, <span class="hljs-number">211</span>, <span class="hljs-number">223</span>, <span class="hljs-number">227</span>, <span class="hljs-number">229</span>, <span class="hljs-number">233</span>]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_lowlevel_prime</span>(<span class="hljs-params">n</span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   选择满足不能够整除前50个素数的大数，没找到就一直循环</span><br><span class="hljs-string">   :param n:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>       c = generate_n_bit_odd(n)<br>       <span class="hljs-keyword">for</span> divisor <span class="hljs-keyword">in</span> first_50_primes:<br>           <span class="hljs-keyword">if</span> c % divisor == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> divisor ** <span class="hljs-number">2</span> &lt;= c:<br>               <span class="hljs-keyword">break</span><br>       <span class="hljs-keyword">return</span> c<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">miller_rabin_primality_check</span>(<span class="hljs-params">n, k=<span class="hljs-number">20</span></span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   米勒-拉宾素性检验</span><br><span class="hljs-string">   由于假设n是一个素数，n-1=a^s*d,s和d是常量，改变a的值，检测20次</span><br><span class="hljs-string">   :param n:</span><br><span class="hljs-string">   :param k:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">assert</span> n &gt; <span class="hljs-number">3</span><br>   <span class="hljs-keyword">if</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>       <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>   <span class="hljs-comment"># 找出n-1 = 2^s*d</span><br>   s, d = <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span><br>   <span class="hljs-keyword">while</span> d % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>       d &gt;&gt;= <span class="hljs-number">1</span><br>       s += <span class="hljs-number">1</span><br><br>   <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>       a = randrange(<span class="hljs-number">2</span>, n - <span class="hljs-number">1</span>)<br>       x = <span class="hljs-built_in">pow</span>(a, d, n)<br><br>       <span class="hljs-keyword">if</span> x == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> x == n - <span class="hljs-number">1</span>:<br>           <span class="hljs-keyword">continue</span><br><br>       <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s):<br>           x = <span class="hljs-built_in">pow</span>(x, <span class="hljs-number">2</span>, n)<br>           <span class="hljs-keyword">if</span> x == n - <span class="hljs-number">1</span>:<br>               <span class="hljs-keyword">break</span><br>       <span class="hljs-keyword">else</span>:<br>           <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_random_prime</span>(<span class="hljs-params">num_bits</span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   获取大素数</span><br><span class="hljs-string">   :param num_bits:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>       pp = get_lowlevel_prime(num_bits)<br>       <span class="hljs-keyword">if</span> miller_rabin_primality_check(pp):<br>           <span class="hljs-keyword">return</span> pp<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">gcd</span>(<span class="hljs-params">a, b</span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   求最大公约数</span><br><span class="hljs-string">   :param a:</span><br><span class="hljs-string">   :param b:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">while</span> b:<br>       a, b = b, a % b<br>   <span class="hljs-keyword">return</span> a<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lcm</span>(<span class="hljs-params">a, b</span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   求最大公倍数</span><br><span class="hljs-string">   两个数的乘积等于它们的最大公约数和最小公倍数的乘积。</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">return</span> a // gcd(a, b) * b<br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">exgcd</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">if</span> a == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> b, <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        gcd, x1, y1 = exgcd(b % a, a)<br>        x = y1 - (b // a) * x1<br>        y = x1<br>        <span class="hljs-keyword">return</span> gcd, x, y<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">invmod</span>(<span class="hljs-params">e, m</span>):<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   求模逆元：知道x * e + y * m = g</span><br><span class="hljs-string">   :param e:</span><br><span class="hljs-string">   :param m:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   g, d, y = exgcd(e, m)<br>   <span class="hljs-keyword">assert</span> g == <span class="hljs-number">1</span><br>   <span class="hljs-keyword">if</span> d &lt; <span class="hljs-number">0</span>:<br>       d += m<br>   <span class="hljs-keyword">return</span> d<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">uint_from_bytes</span>(<span class="hljs-params">xbytes: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   比特转换位整数</span><br><span class="hljs-string">   :param xbytes:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.from_bytes(xbytes, <span class="hljs-string">&#x27;big&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">uint_to_bytes</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   整数转换成比特的时候，一个整数对应32位比特数</span><br><span class="hljs-string">   :param x:</span><br><span class="hljs-string">   :return:</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>:<br>       <span class="hljs-keyword">return</span> <span class="hljs-built_in">bytes</span>(<span class="hljs-number">1</span>)<br>   <span class="hljs-keyword">return</span> x.to_bytes((x.bit_length() + <span class="hljs-number">7</span>) // <span class="hljs-number">8</span>, <span class="hljs-string">&#x27;big&#x27;</span>)  <span class="hljs-comment">#做到尽量不补零</span><br><br><br>RSA_DEFAULT_EXPONENT = <span class="hljs-number">65537</span><br>RSA_DEFAULT_MODULUS_LEN = <span class="hljs-number">2048</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RSA</span>:<br>   <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">   RSA算法(self.n, self.e)加密密钥</span><br><span class="hljs-string">   (self.n, self.d)解密密钥</span><br><span class="hljs-string">   &quot;&quot;&quot;</span><br>   <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, key_length=RSA_DEFAULT_MODULUS_LEN,</span><br><span class="hljs-params">                exponent=RSA_DEFAULT_EXPONENT</span>):<br>       self.e = exponent<br>       t = <span class="hljs-number">0</span><br>       p = q = <span class="hljs-number">2</span>  <span class="hljs-comment"># 找出一个e使1&lt;e&lt;(p-1)*(q-1)</span><br>       <span class="hljs-keyword">while</span> gcd(self.e, t) != <span class="hljs-number">1</span>:<br>           p = get_random_prime(key_length // <span class="hljs-number">2</span>)<br>           q = get_random_prime(key_length // <span class="hljs-number">2</span>)<br>           t = lcm(p - <span class="hljs-number">1</span>, q - <span class="hljs-number">1</span>)<br><br>       self.n = p * q<br>       self.d = invmod(self.e, t)  <span class="hljs-comment"># 加密和解密使比特和整数之间的加解密</span><br><br>   <span class="hljs-keyword">def</span> <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">self, binary_data: <span class="hljs-built_in">bytes</span></span>):<br>       int_data = uint_from_bytes(binary_data)<br>       <span class="hljs-keyword">return</span> <span class="hljs-built_in">pow</span>(int_data, self.e, self.n)<br><br>   <span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">self, encrypted_int_data: <span class="hljs-built_in">int</span></span>):<br>       int_data = <span class="hljs-built_in">pow</span>(encrypted_int_data, self.d, self.n)<br>       <span class="hljs-keyword">return</span> uint_to_bytes(int_data)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>   RSA_1 = RSA(<span class="hljs-number">2048</span>, <span class="hljs-number">65537</span>)<br>   msg = <span class="hljs-string">b&#x27;Complex RSA in Python&#x27;</span><br>   ctxt = RSA_1.encrypt(msg)<br>   m = RSA_1.decrypt(ctxt)<br>   <span class="hljs-built_in">print</span>(m)<br>   <span class="hljs-built_in">print</span>(ctxt)<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>密码学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>RSA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python（三）</title>
    <link href="/2024/05/04/%E5%87%BD%E6%95%B0/"/>
    <url>/2024/05/04/%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<p>在Python中，函数是一种基本的数据结构，它允许你将一段代码封装起来，以便重复使用。下面是对你提到的各个概念的解释和例子：</p><h3 id="1-不可变与可变参数："><a href="#1-不可变与可变参数：" class="headerlink" title="1.不可变与可变参数："></a><strong>1.不可变与可变参数</strong>：</h3><p>在Python中，可变参数（Mutable Arguments）和不可变参数（Immutable Arguments）是两种不同的参数类型，它们在函数内部的行为和用途上有所不同。</p><h4 id="不可变参数"><a href="#不可变参数" class="headerlink" title="不可变参数"></a><strong>不可变参数</strong></h4><p>不可变参数指的是在函数内部不能被修改的对象，如整数、浮点数、字符串、元组等。一旦一个不可变对象被创建，其值就不能被更改。</p><h5 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">a</span>):<br>    a = a + <span class="hljs-number">1</span>  <span class="hljs-comment"># 尝试修改不可变对象</span><br>    <span class="hljs-keyword">return</span> a<br>num = <span class="hljs-number">5</span><br><span class="hljs-built_in">print</span>(func(num))  <span class="hljs-comment"># 输出: 5，因为num是不可变的</span><br></code></pre></td></tr></table></figure><h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a><strong>可变参数</strong></h4><p>可变参数指的是在函数内部可以被修改的对象，如列表（List）、字典（Dictionary）、集合（Set）等。这些对象在函数内部可以被添加、删除或修改元素。</p><h5 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">lst</span>):<br>    lst.append(<span class="hljs-number">1</span>)  <span class="hljs-comment"># 修改可变对象</span><br>    <span class="hljs-keyword">return</span> lst<br>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-built_in">print</span>(func(my_list))  <span class="hljs-comment"># 输出: [1, 2, 3, 1]，因为my_list是可变的</span><br></code></pre></td></tr></table></figure><p>在实际编程中，了解可变参数和不可变参数的区别非常重要，因为它们会影响函数的行为和结果。在处理不可变对象时，需要注意，因为尝试修改它们可能会导致错误。而对于可变对象，你可以自由地添加、删除或修改它们的内容。</p><h3 id="2-位置参数："><a href="#2-位置参数：" class="headerlink" title="2.位置参数："></a><strong>2.位置参数</strong>：</h3><p>位置参数（Positional Arguments）是指在函数定义时按照参数位置顺序排列的参数。当你调用一个函数时，你需要按照函数定义中的参数顺序提供相应的值。</p><h5 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name, message=<span class="hljs-string">&quot;Hello&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;打印一个问候语&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;message&#125;</span>, <span class="hljs-subst">&#123;name&#125;</span>!&quot;</span>)<br><span class="hljs-comment"># 调用函数，提供位置参数</span><br>greet(<span class="hljs-string">&quot;Alice&quot;</span>)  <span class="hljs-comment"># 输出: Hello, Alice!</span><br>greet(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;Hi there&quot;</span>)  <span class="hljs-comment"># 输出: Hi there, Bob!</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>greet</code> 函数定义了两个位置参数：<code>name</code> 和 <code>message</code>。在调用 <code>greet</code> 函数时，我们按照函数定义中的参数顺序提供值。如果没有提供第二个参数 <code>message</code> 的值，它将使用默认值 “Hello”。</p><h4 id="位置参数的特点"><a href="#位置参数的特点" class="headerlink" title="位置参数的特点"></a>位置参数的特点</h4><ol><li><strong>必须按照顺序提供</strong>：调用函数时，必须按照函数定义中的参数顺序提供值。</li><li><strong>参数名称不重要</strong>：位置参数的名称在调用时不需要指定，Python会根据位置来匹配参数。</li><li><strong>不能有默认值</strong>：位置参数不能有默认值，即在函数定义时不能指定默认值。</li><li><strong>可以有多个</strong>：一个函数可以有多个位置参数，但必须按照定义的顺序提供。<br> 位置参数是函数定义中最常见的一种参数类型，它允许你直接通过位置来传递参数，使得函数调用更加直观和易于理解。</li></ol><h3 id="3-关键字参数："><a href="#3-关键字参数：" class="headerlink" title="3.关键字参数："></a><strong>3.关键字参数</strong>：</h3><p>函数的关键字参数允许你通过参数名而不是位置来指定参数值。这意味着你可以在调用函数时以任意顺序提供参数，只要指定了参数名。关键字参数是在函数定义中使用 <code>=</code> 赋值的参数。</p><h5 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h5><p>展示了如何定义和使用关键字参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name, message=<span class="hljs-string">&quot;Hello&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;打印一个问候语&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;message&#125;</span>, <span class="hljs-subst">&#123;name&#125;</span>!&quot;</span>)<br><span class="hljs-comment"># 使用关键字参数调用函数</span><br>greet(name=<span class="hljs-string">&quot;Alice&quot;</span>, message=<span class="hljs-string">&quot;Hi&quot;</span>)<br>greet(message=<span class="hljs-string">&quot;Hi&quot;</span>, name=<span class="hljs-string">&quot;Alice&quot;</span>)<br>greet(name=<span class="hljs-string">&quot;Bob&quot;</span>)<br></code></pre></td></tr></table></figure><p>在这个例子中，<code>greet</code> 函数接受两个参数：<code>name</code> 和 <code>message</code>。<code>message</code> 参数有一个默认值 “Hello”。在调用 <code>greet</code> 函数时，我们可以通过指定参数名来提供值，这样可以不依赖于参数的顺序，并且可以在没有提供值时使用参数的默认值。</p><h4 id="适用情况"><a href="#适用情况" class="headerlink" title="适用情况"></a>适用情况</h4><ol><li>当函数有多个参数且其中一些参数有默认值时，使用关键字参数可以让代码更清晰，因为它们明确指出了每个参数的含义。</li><li>当你只想更新函数的某些参数而不是所有参数时，关键字参数非常有用。</li><li>当函数参数列表很长时，使用关键字参数可以避免记住参数的顺序，从而减少错误。<br>关键字参数必须在位置参数之后提供，否则会引发语法错误。例如，你不能在位置参数之前使用关键字参数：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">greet(name=<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;Hi&quot;</span>)  <span class="hljs-comment"># 这会引发语法错误</span><br></code></pre></td></tr></table></figure>正确的方式是：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">greet(<span class="hljs-string">&quot;Alice&quot;</span>, message=<span class="hljs-string">&quot;Hi&quot;</span>)  <span class="hljs-comment"># 这是正确的</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="4-缺省参数："><a href="#4-缺省参数：" class="headerlink" title="4.缺省参数："></a><strong>4.缺省参数</strong>：</h3><p>缺省参数（default parameter）是指在没有传入值的情况下，函数会使用默认值的参数。当你定义一个函数时，可以为参数设置默认值，这样在调用函数时如果不提供该参数的值，函数会使用默认值。</p><h5 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name, message=<span class="hljs-string">&quot;Hello&quot;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;打印一个问候语&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;message&#125;</span>, <span class="hljs-subst">&#123;name&#125;</span>!&quot;</span>)<br><span class="hljs-comment"># 使用缺省参数调用函数</span><br>greet(<span class="hljs-string">&quot;Alice&quot;</span>)            <span class="hljs-comment"># 使用了message的默认值&quot;Hello&quot;</span><br>greet(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;Hi there&quot;</span>)  <span class="hljs-comment"># 覆盖了message的默认值</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>greet</code> 函数有两个参数：<code>name</code> 和 <code>message</code>。<code>message</code> 参数有一个默认值 “Hello”。当我们调用 <code>greet</code> 函数时，如果没有为 <code>message</code> 提供值，它将自动使用默认值 “Hello”。<br>在使用缺省参数时，需要注意以下几点：</p><ol><li><strong>缺省参数通常应该放在参数列表的最后，这样可以避免在调用函数时出现不必要的混淆。</strong></li><li><strong>缺省参数的值在函数定义时只会计算一次，这意味着如果缺省参数是一个可变对象（如列表、字典或实例），那么在函数多次调用之间，这个对象可能会保留状态，这可能会导致意外的行为。</strong></li></ol><h5 id="例如："><a href="#例如：" class="headerlink" title="例如："></a>例如：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">append_to</span>(<span class="hljs-params">element, to=[]</span>):<br>    to.append(element)<br>    <span class="hljs-keyword">return</span> to<br>my_list = append_to(<span class="hljs-number">12</span>)<br><span class="hljs-built_in">print</span>(my_list)  <span class="hljs-comment"># 输出: [12]</span><br>another_list = append_to(<span class="hljs-number">42</span>)<br><span class="hljs-built_in">print</span>(another_list)  <span class="hljs-comment"># 输出: [12, 42]，这不是预期的行为</span><br></code></pre></td></tr></table></figure><p>为了避免这种问题，可以使用 <code>None</code> 作为缺省参数的默认值，然后在函数内部进行检查并分配一个新的对象：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">append_to</span>(<span class="hljs-params">element, to=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-keyword">if</span> to <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        to = []<br>    to.append(element)<br>    <span class="hljs-keyword">return</span> to<br>my_list = append_to(<span class="hljs-number">12</span>)<br><span class="hljs-built_in">print</span>(my_list)  <span class="hljs-comment"># 输出: [12]</span><br>another_list = append_to(<span class="hljs-number">42</span>)<br><span class="hljs-built_in">print</span>(another_list)  <span class="hljs-comment"># 输出: [42]，这是预期的行为</span><br></code></pre></td></tr></table></figure><p>这样，每次调用 <code>append_to</code> 函数时，如果没有提供 <code>to</code> 参数，它都会创建一个新的列表，从而避免了在不同调用之间共享状态的问题。</p><h3 id="5-不定长参数："><a href="#5-不定长参数：" class="headerlink" title="5.不定长参数："></a><strong>5.不定长参数</strong>：</h3><p>不定长参数（Var-Length Arguments）指的是函数可以接受任意数量的非关键字参数。这通常通过在函数定义中使用星号 <code>*</code> 来指定。<br>不定长参数可以分为两种：</p><h4 id="可变数量的位置参数"><a href="#可变数量的位置参数" class="headerlink" title="可变数量的位置参数"></a><strong>可变数量的位置参数</strong></h4><p>使用星号 <code>*</code> 跟随一个参数名，表示该参数可以接受任意数量的位置参数。这些参数会被打包成一个元组（tuple）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_info</span>(<span class="hljs-params">*vartuple</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;vartuple:&quot;</span>, vartuple)<br>print_info(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)  <span class="hljs-comment"># 输出: vartuple: (10, 20, 30)</span><br></code></pre></td></tr></table></figure><h4 id="可变关键字参数"><a href="#可变关键字参数" class="headerlink" title="可变关键字参数"></a><strong>可变关键字参数</strong></h4><p>使用双星号 <code>**</code> 跟随一个参数名，表示该参数可以接受任意数量的关键字参数。这些参数会被打包成一个字典（dictionary）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_info</span>(<span class="hljs-params">**varkwargs</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;varkwargs:&quot;</span>, varkwargs)<br>print_info(name=<span class="hljs-string">&quot;Alice&quot;</span>, age=<span class="hljs-number">25</span>)  <span class="hljs-comment"># 输出: varkwargs: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25&#125;</span><br></code></pre></td></tr></table></figure><p>可变数量的位置参数和可变关键字参数可以同时使用，以允许函数接受任意数量的非关键字参数和任意数量的关键字参数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_info</span>(<span class="hljs-params">*vartuple, **varkwargs</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;vartuple:&quot;</span>, vartuple)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;varkwargs:&quot;</span>, varkwargs)<br>print_info(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, name=<span class="hljs-string">&quot;Alice&quot;</span>, age=<span class="hljs-number">25</span>)  <span class="hljs-comment"># 输出:</span><br>                                                  <span class="hljs-comment"># vartuple: (10, 20, 30)</span><br>                                                  <span class="hljs-comment"># varkwargs: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25&#125;</span><br></code></pre></td></tr></table></figure><p>使用不定长参数时</p><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><ul><li>不定长参数必须在函数定义中的其他位置参数之后。</li><li>不定长参数在函数调用时可以不提供值，也可以提供任意数量的值。</li><li>不定长参数的值会被收集到一个元组或字典中，而不是直接传递给函数的参数。</li><li>如果你需要访问不定长参数中的值，你可以使用 <code>*vartuple</code> 或 <code>**varkwargs</code> 来解包这些值。</li></ul><h3 id="6-匿名函数："><a href="#6-匿名函数：" class="headerlink" title="6.匿名函数："></a><strong>6.匿名函数</strong>：</h3><p>匿名函数（Anonymous Functions）也被称为Lambda函数，它们是没有名称的函数，通常只包含一个表达式。Lambda函数的语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> arguments: expression<br></code></pre></td></tr></table></figure><ul><li><code>arguments</code>：这是传递给Lambda函数的参数，可以是一个参数，也可以是多个参数，参数之间用逗号分隔。</li><li><code>expression</code>：这是Lambda函数执行的表达式，它的结果就是Lambda函数的返回值。<br>Lambda函数通常用于需要快速定义一个简单的、一次性的函数，或者用于Python的某些内置函数，如 <code>map()</code>、<code>filter()</code> 和 <code>sorted()</code>。</li></ul><h5 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 计算两个数的和</span><br>add = <span class="hljs-keyword">lambda</span> x, y: x + y<br><span class="hljs-built_in">print</span>(add(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>))  <span class="hljs-comment"># 输出: 8</span><br><span class="hljs-comment"># 检查一个数字是否为偶数</span><br>is_even = <span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(is_even(<span class="hljs-number">4</span>))  <span class="hljs-comment"># 输出: True</span><br><span class="hljs-built_in">print</span>(is_even(<span class="hljs-number">5</span>))  <span class="hljs-comment"># 输出: False</span><br><span class="hljs-comment"># 使用Lambda函数作为map()的函数对象</span><br>numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>squared_numbers = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x * x, numbers)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(squared_numbers))  <span class="hljs-comment"># 输出: [1, 4, 9, 16, 25]</span><br><span class="hljs-comment"># 使用Lambda函数作为filter()的函数对象</span><br>numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>even_numbers = <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, numbers)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(even_numbers))  <span class="hljs-comment"># 输出: [2, 4]</span><br></code></pre></td></tr></table></figure><h4 id="Lambda函数的特点"><a href="#Lambda函数的特点" class="headerlink" title="Lambda函数的特点"></a>Lambda函数的特点</h4><ul><li>不能包含代码块，只能包含一个表达式。</li><li>不能有参数列表外的代码。</li><li>不能包含任意复杂的逻辑，因为它们只能包含一个表达式。</li><li>不能有返回语句，因为表达式的结果就是返回值。</li></ul><p>Lambda函数通常用于定义简单的、一次性的函数，或者作为其他函数的参数。它们在处理简单任务时非常有用，但如果需要编写更复杂的函数，应该使用普通的函数定义。</p><h3 id="7-函数装饰器："><a href="#7-函数装饰器：" class="headerlink" title="7.函数装饰器："></a><strong>7.函数装饰器</strong>：</h3><p>函数装饰器（Function Decorator）是Python中一个强大的特性，它允许你在不修改函数代码的情况下，给函数添加额外的功能。<em><strong>装饰器本质上是一个返回函数的高阶函数。</strong></em><br>在Python中，装饰器通常以<code>@</code>符号开头，后面跟着装饰器的名称。当一个函数被一个装饰器装饰时，实际上装饰器返回了一个新的函数，这个新的函数会替换原始函数。</p><h4 id="简单示例："><a href="#简单示例：" class="headerlink" title="简单示例："></a>简单示例：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Something is happening before the function is called.&quot;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Something is happening after the function is called.&quot;</span>)<br>    <span class="hljs-keyword">return</span> wrapper<br><span class="hljs-meta">@my_decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hello</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello!&quot;</span>)<br>say_hello()  <span class="hljs-comment"># 输出:</span><br>           <span class="hljs-comment"># Something is happening before the function is called.</span><br>           <span class="hljs-comment"># Hello!</span><br>           <span class="hljs-comment"># Something is happening after the function is called.</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>my_decorator</code>是一个装饰器，它接收一个函数作为参数。<code>wrapper</code>是一个新的函数，它包含原始函数<code>say_hello</code>以及额外的打印语句。当调用<code>say_hello</code>时，实际上调用的是<code>wrapper</code>函数。<br><strong>装饰器可以接收参数</strong>，这样就可以根据不同的情况应用不同的装饰器。</p><h5 id="例如：-1"><a href="#例如：-1" class="headerlink" title="例如："></a>例如：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">repeat</span>(<span class="hljs-params">num_times</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_times):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Repeating...&quot;</span>)<br>                func(*args, **kwargs)<br>        <span class="hljs-keyword">return</span> wrapper<br>    <span class="hljs-keyword">return</span> decorator<br><span class="hljs-meta">@repeat(<span class="hljs-params"><span class="hljs-number">3</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hello</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello!&quot;</span>)<br>say_hello()  <span class="hljs-comment"># 输出:</span><br>           <span class="hljs-comment"># Repeating...</span><br>           <span class="hljs-comment"># Hello!</span><br>           <span class="hljs-comment"># Repeating...</span><br>           <span class="hljs-comment"># Hello!</span><br>           <span class="hljs-comment"># Repeating...</span><br>           <span class="hljs-comment"># Hello!</span><br></code></pre></td></tr></table></figure><p>在这个例子中，<code>repeat</code>是一个装饰器工厂，它接受一个参数<code>num_times</code>。当<code>repeat(3)</code>被应用到<code>say_hello</code>函数上时，它会创建一个新的装饰器，这个装饰器会重复调用<code>say_hello</code>三次，并在每次调用前后打印重复的提示。</p><p>装饰器在Python中非常常用，它们可以用于<strong>日志记录、性能测试、权限检查</strong>等场景。</p><h3 id="8-模块的定义与使用："><a href="#8-模块的定义与使用：" class="headerlink" title="8.模块的定义与使用："></a><strong>8.模块的定义与使用</strong>：</h3><p>模块（Module）是一个包含Python代码的文件，它用于组织代码、重用代码和隐藏实现细节。模块通常包含函数、类、变量和文档字符串。</p><p>模块的定义与使用主要包括以下几个步骤：</p><ol><li><strong>创建模块</strong>：<br>创建一个包含Python代码的文件，该文件名通常是模块名，扩展名为<code>.py</code>。</li><li><strong>编写模块代码</strong>：<br>在模块文件中，你可以编写函数、类、变量和文档字符串。</li><li><strong>使用模块</strong>：<br>要使用模块，你需要导入它。导入模块有几种方式，包括导入整个模块、导入模块中的特定函数或类、使用 <code>from ... import ...</code> 语法等。<br>下面是一个简单的模块示例，以及如何使用它：<br><strong>模块文件（module.py）</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># module.py</span><br><span class="hljs-comment"># 定义一个函数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;Hello, <span class="hljs-subst">&#123;name&#125;</span>!&quot;</span><br><span class="hljs-comment"># 定义一个类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self.name = name<br>        self.age = age<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">introduce</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;My name is <span class="hljs-subst">&#123;self.name&#125;</span> and I am <span class="hljs-subst">&#123;self.age&#125;</span> years old.&quot;</span><br></code></pre></td></tr></table></figure><strong>使用模块的Python文件</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># main.py</span><br><span class="hljs-comment"># 导入模块</span><br><span class="hljs-keyword">import</span> module<br><span class="hljs-comment"># 使用模块中的函数</span><br><span class="hljs-built_in">print</span>(module.greet(<span class="hljs-string">&quot;Alice&quot;</span>))  <span class="hljs-comment"># 输出: Hello, Alice!</span><br><span class="hljs-comment"># 创建模块中的类实例</span><br>person = module.Person(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">30</span>)<br><span class="hljs-built_in">print</span>(person.introduce())  <span class="hljs-comment"># 输出: My name is Bob and I am 30 years old.</span><br></code></pre></td></tr></table></figure>在这个例子中，<code>module.py</code> 是一个模块文件，其中包含了一个函数 <code>greet</code> 和一个类 <code>Person</code>。在 <code>main.py</code> 文件中，我们使用 <code>import module</code> 语句来导入整个模块。然后，我们使用 <code>module.greet(&quot;Alice&quot;)</code> 来调用模块中的函数，并使用 <code>module.Person(&quot;Bob&quot;, 30)</code> 来创建模块中的类实例。</li></ol><p>模块的使用可以提高代码的可维护性和可读性，因为它们允许将相关的代码组织在一起，并且可以在不同的项目中重用这些代码。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python函数</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>迭代器和生成器</title>
    <link href="/2024/04/27/%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/"/>
    <url>/2024/04/27/%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p>应用场景:处理大量数据或需要节省内存</p><h1 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h1><p>迭代器是遵循迭代器协议的对象，即它们实现了<code>__iter__()</code>和<code>__next__()</code>两个方法。<code>__iter__()</code>返回迭代器对象本身，<code>__next__()</code>返回序列的下一个元素。如果没有更多元素可返回，则抛出<code>StopIteration</code>异常。</p><h3 id="iter-方法："><a href="#iter-方法：" class="headerlink" title="iter( )方法："></a><code>iter( )</code>方法：</h3><p>在Python中，<code>iter()</code>函数用于获取一个迭代器。它通常与集合数据类型（如列表、元组、字典、集合等）一起使用，以获取这些数据类型的迭代器对象。<br>以下是<code>iter()</code>函数的基本用法：</p><ol><li><p><strong>无参数调用</strong>：<code>iter()</code>可以不带参数调用，这时它会返回一个空的迭代器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">iter</span>()<br></code></pre></td></tr></table></figure></li><li><p><strong>调用具有<code>__iter__()</code>方法的对象</strong>：如果对象实现了<code>__iter__()</code>方法，<code>iter()</code>函数将调用这个方法来获取迭代器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">my_iter = <span class="hljs-built_in">iter</span>(my_object)<br></code></pre></td></tr></table></figure></li><li><p><strong>调用具有<code>__getitem__()</code>方法的对象</strong>：如果对象实现了<code>__getitem__()</code>方法，<code>iter()</code>函数会创建一个迭代器，尝试按<strong>顺序</strong>获取对象的元素。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">my_iter = <span class="hljs-built_in">iter</span>(my_object)<br></code></pre></td></tr></table></figure></li><li><p><strong>调用带有两个参数</strong>：<code>iter()</code>也可以接受两个参数，其中第一个参数是函数，第二个参数是哨符(<em>哨符（sentinel）是一个特殊的值，用于在迭代过程中指示何时停止。通常，哨符与<code>iter()</code>函数的第二个参数一起使用，以创建一个迭代器，该迭代器重复调用函数直到它返回哨符值。这种用法允许创建一个基于某些条件停止的迭代器，而不是基于固定数量的元素或项。哨符通常用于文件处理，其中哨符可以是一个特殊的行或字符，指示文件的结束</em>)。这种用法用于创建一个迭代器，该迭代器重复调用函数直到它返回哨符值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">my_iter = <span class="hljs-built_in">iter</span>(function, sentinel)<br></code></pre></td></tr></table></figure></li></ol><h3 id="示例"><a href="#示例" class="headerlink" title="示例:"></a>示例:</h3><p>展示如何使用<code>iter()</code>函数获取列表的迭代器</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建一个列表</span><br><br>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><br><span class="hljs-comment"># 使用iter()获取列表的迭代器</span><br><br>my_iter = <span class="hljs-built_in">iter</span>(my_list)<br><br><span class="hljs-comment"># 使用next()获取迭代器的下一个元素</span><br><br>next_element = <span class="hljs-built_in">next</span>(my_iter)<br>next_element<br></code></pre></td></tr></table></figure><p>使用<code>iter()</code>函数获取列表<code>[1, 2, 3, 4, 5]</code>的迭代器后，我们使用<code>next()</code>函数获取迭代器的下一个元素，得到的结果是<code>1</code>。<br>也可以使用<code>next()</code>函数连续调用迭代器来遍历列表中的所有元素。当没有更多元素可返回时，<code>next()</code>函数会抛出<code>StopIteration</code>异常。</p><h3 id="next-方法"><a href="#next-方法" class="headerlink" title="next()方法:"></a><code>next()</code>方法:</h3><p><code>next()</code>函数用于获取迭代器的下一个元素。当你有一个迭代器对象时，你可以使用<code>next()</code>函数来逐个访问其元素，直到没有更多元素可访问，此时<code>next()</code>会抛出<code>StopIteration</code>异常。</p><p>迭代器是一个实现了<code>__next__()</code>方法的对象，该方法返回序列的下一个元素。<code>next()</code>函数简单地调用迭代器的<code>__next__()</code>方法。</p><p>迭代器用于遍历集合，如列表、元组、字典和集合等，而不需要在内存中存储整个集合。这意味着迭代器在处理大数据集时非常高效。</p><h2 id="迭代器示例"><a href="#迭代器示例" class="headerlink" title="迭代器示例"></a>迭代器示例</h2><p>用于创建一个可以生成斐波那契数列的迭代器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FibonacciIterator</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n</span>):<br>        self.n = n<br>        self.a, self.b = <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>        self.count = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.count &lt; self.n:<br>            value = self.a<br>            self.a, self.b = self.b, self.a + self.b<br>            self.count += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">return</span> value<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> StopIteration<br><br><span class="hljs-comment"># 使用迭代器生成前10个斐波那契数</span><br>fib_iter = FibonacciIterator(<span class="hljs-number">10</span>)<br><span class="hljs-built_in">list</span>(fib_iter)<br></code></pre></td></tr></table></figure><p>在这个迭代器中：</p><ul><li><code>__init__</code> 方法初始化迭代器，设置要生成的斐波那契数的数量（<code>n</code>），并初始化两个变量 <code>a</code> 和 <code>b</code>，分别代表数列中的前两个数。</li><li><code>__iter__</code> 方法返回迭代器对象本身。</li><li><code>__next__</code> 方法计算下一个斐波那契数，并更新 <code>a</code> 和 <code>b</code> 的值。如果生成的斐波那契数的数量达到了指定的数量（<code>n</code>），则抛出 <code>StopIteration</code> 异常。</li></ul><h1 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h1><p>在Python中，生成器是一种特殊类型的迭代器，它使用<code>yield</code>语句来生产一系列的值，用于迭代。生成器的优势在于它提供了<strong>惰性求值（lazy evaluation）</strong>，这意味着它只在需要时生成值，而不是一次性生成所有值。这样做可以节省内存并提高效率。<br>生成器函数的定义与普通函数类似，但有以下特点：</p><ul><li>包含<code>yield</code>关键字。</li><li>当函数被调用时，它返回一个生成器对象，但不会立即执行函数体。</li><li>当生成器对象的<code>__next__()</code>方法被调用时，函数体开始执行，直到遇到<code>yield</code>语句，此时它返回<code>yield</code>后的值并暂停执行。</li></ul><p>下次调用<code>__next__()</code>时，函数从上次暂停的地方继续执行，直到再次遇到<code>yield</code>或函数结束。</p><h3 id="yield关键字"><a href="#yield关键字" class="headerlink" title="yield关键字"></a><code>yield</code>关键字</h3><p>yield <code>VS</code> return</p><ul><li><code>return</code>作为结尾的普通函数直接返回所有结果，程序终止不再运行，并销毁局部变量；</li><li><code>yield</code>会<strong>产生一个断点，暂停函数，挂起函数，保存当前状态</strong>。并且在<code>yield</code>处返回某个值，返回之后程序就不再往下运行了。</li></ul><h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun_yield</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;starting fun yield&quot;</span>)<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        res = <span class="hljs-keyword">yield</span> <span class="hljs-number">4</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;判断yield之后是否继续执行&quot;</span>,res)<br><br>g = fun_yield() <span class="hljs-comment"># 调用这个函数只是会得到一个生成器</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;函数结果是一个生成器：&quot;</span>,g)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对此生成器还是进行调用：&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第一次调用&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;生成器的返回值&quot;</span>,<span class="hljs-built_in">next</span>(g))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第二次调用&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;生成器的返回值&quot;</span>,<span class="hljs-built_in">next</span>(g))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第三次调用&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;生成器的返回值&quot;</span>,<span class="hljs-built_in">next</span>(g))<br><br></code></pre></td></tr></table></figure><p>结果：</p><p><img src="/../img/%E7%94%9F%E6%88%90%E5%99%A8.png" alt="示例"></p><ul><li><p>程序开始执行以后，因为fun_yield中有yield关键字，所以函数并不会真的执行，而是先得到一个实例化的生成器对象，结果1可以看出不会真的运行。</p></li><li><p>直到调用next()，fun_yield正式开始执行，先执行函数中的print(“starting fun yield”)，然后进入while循环，结果2可以看出</p></li><li><p>程序遇到yield关键字，然后把yield理解为return，return了一个4之后，程序停止，并没有执行后面的print(“判断yield之后是否继续执行”,res)操作，此时next(g)语句执行完成，所以输出的前两行，接下来准备运行第二次调用，结果3可以看出</p></li><li><p>执行下面的print(“生成器的返回值”,next(g))，这个时候和上面那个差不多，不过不同的是，这个时候是从上一次yield停止的断点开始执行，也就是要执行print(“判断yield之后是否继续执行”,res)操作，这时候要注意，这个时候赋值操作的右边是没有值的（因为刚才那个是return出去了，并没有给赋值操作的左边传参数，也就相当于说res里面是没有内容的），所以这个时候res赋值是None，所以接着下面的输出就是None，结果4可以看出</p></li><li><p>之后的程序会继续在while里执行，又一次碰到yield，这个时候同样return出4，结果5可以看出</p></li></ul><h2 id="生成器示例"><a href="#生成器示例" class="headerlink" title="生成器示例"></a>生成器示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci_generator</span>(<span class="hljs-params">n</span>):<br>  <span class="hljs-string">&quot;&quot;&quot;生成斐波那契数列的生成器函数&quot;&quot;&quot;</span><br>  a, b = <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>  <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>      <span class="hljs-keyword">yield</span> a<br>      a, b = b, a + b<br><br><span class="hljs-comment">#创建一个生成器对象，用于生成前10个斐波那契数</span><br><br>fib_gen = fibonacci_generator(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment">#使用next()获取生成器的下一个元素</span><br><br>fibonacci_sequence = [<span class="hljs-built_in">next</span>(fib_gen) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br>fibonacci_sequence<br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">21</span>, <span class="hljs-number">34</span>]<br></code></pre></td></tr></table></figure><p>使用生成器函数<code>fibonacci_generator</code>，我们成功地生成了前10个斐波那契数：0, 1, 1, 2, 3, 5, 8, 13, 21, 34。<br>这个示例展示了生成器如何简化生成序列的过程，同时节省内存。由于生成器在迭代时只生成当前需要的值，因此它们在处理大数据集或无限序列时特别有用。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>迭代器和生成器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AES 之Sub_Bytes&amp;Mix_Columns（二）</title>
    <link href="/2024/04/24/AES%20%E4%B9%8BSub_Bytes&amp;Mix_Columns%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <url>/2024/04/24/AES%20%E4%B9%8BSub_Bytes&amp;Mix_Columns%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="Inv-Sub-Bytes（逆字节代换）："><a href="#Inv-Sub-Bytes（逆字节代换）：" class="headerlink" title="Inv_Sub_Bytes（逆字节代换）："></a>Inv_Sub_Bytes（逆字节代换）：</h2><p>Inv_Sub_Bytes是AES算法中的一个步骤，它是Sub_Bytes的逆过程，用于解密过程中对数据进行逆变换。在AES算法中，Inv_Sub_Bytes操作对状态的每个字节使用逆S-Box的进行替换。<br>AES的S-Box是一个16x16的查找表，用于在加密过程中将每个字节映射到另一个字节。Inv_Sub_Bytes使用的是S-Box的逆查找表，即Inv_S盒，用于在解密过程中将每个字节映射回原始字节。</p><h5 id="Inv-S盒："><a href="#Inv-S盒：" class="headerlink" title="Inv_S盒："></a>Inv_S盒：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">inv_sbox = [<br>    [<span class="hljs-number">0x52</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x6A</span>, <span class="hljs-number">0xD5</span>, <span class="hljs-number">0x30</span>, <span class="hljs-number">0x36</span>, <span class="hljs-number">0xA5</span>, <span class="hljs-number">0x38</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0x40</span>, <span class="hljs-number">0xA3</span>, <span class="hljs-number">0x9E</span>, <span class="hljs-number">0x81</span>, <span class="hljs-number">0xF3</span>, <span class="hljs-number">0xD7</span>, <span class="hljs-number">0xFB</span>],<br>    [<span class="hljs-number">0x7C</span>, <span class="hljs-number">0xE3</span>, <span class="hljs-number">0x39</span>, <span class="hljs-number">0x82</span>, <span class="hljs-number">0x9B</span>, <span class="hljs-number">0x2F</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x87</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x8E</span>, <span class="hljs-number">0x43</span>, <span class="hljs-number">0x44</span>, <span class="hljs-number">0xC4</span>, <span class="hljs-number">0xDE</span>, <span class="hljs-number">0xE9</span>, <span class="hljs-number">0xCB</span>],<br>    [<span class="hljs-number">0x54</span>, <span class="hljs-number">0x7B</span>, <span class="hljs-number">0x94</span>, <span class="hljs-number">0x32</span>, <span class="hljs-number">0xA6</span>, <span class="hljs-number">0xC2</span>, <span class="hljs-number">0x23</span>, <span class="hljs-number">0x3D</span>, <span class="hljs-number">0xEE</span>, <span class="hljs-number">0x4C</span>, <span class="hljs-number">0x95</span>, <span class="hljs-number">0x0B</span>, <span class="hljs-number">0x42</span>, <span class="hljs-number">0xFA</span>, <span class="hljs-number">0xC3</span>, <span class="hljs-number">0x4E</span>],<br>    [<span class="hljs-number">0x08</span>, <span class="hljs-number">0x2E</span>, <span class="hljs-number">0xA1</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x28</span>, <span class="hljs-number">0xD9</span>, <span class="hljs-number">0x24</span>, <span class="hljs-number">0xB2</span>, <span class="hljs-number">0x76</span>, <span class="hljs-number">0x5B</span>, <span class="hljs-number">0xA2</span>, <span class="hljs-number">0x49</span>, <span class="hljs-number">0x6D</span>, <span class="hljs-number">0x8B</span>, <span class="hljs-number">0xD1</span>, <span class="hljs-number">0x25</span>],<br>    [<span class="hljs-number">0x72</span>, <span class="hljs-number">0xF8</span>, <span class="hljs-number">0xF6</span>, <span class="hljs-number">0x64</span>, <span class="hljs-number">0x86</span>, <span class="hljs-number">0x68</span>, <span class="hljs-number">0x98</span>, <span class="hljs-number">0x16</span>, <span class="hljs-number">0xD4</span>, <span class="hljs-number">0xA4</span>, <span class="hljs-number">0x5C</span>, <span class="hljs-number">0xCC</span>, <span class="hljs-number">0x5D</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0xB6</span>, <span class="hljs-number">0x92</span>],<br>    [<span class="hljs-number">0x6C</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0x48</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0xFD</span>, <span class="hljs-number">0xED</span>, <span class="hljs-number">0xB9</span>, <span class="hljs-number">0xDA</span>, <span class="hljs-number">0x5E</span>, <span class="hljs-number">0x15</span>, <span class="hljs-number">0x46</span>, <span class="hljs-number">0x57</span>, <span class="hljs-number">0xA7</span>, <span class="hljs-number">0x8D</span>, <span class="hljs-number">0x9D</span>, <span class="hljs-number">0x84</span>],<br>    [<span class="hljs-number">0x90</span>, <span class="hljs-number">0xD8</span>, <span class="hljs-number">0xAB</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x8C</span>, <span class="hljs-number">0xBC</span>, <span class="hljs-number">0xD3</span>, <span class="hljs-number">0x0A</span>, <span class="hljs-number">0xF7</span>, <span class="hljs-number">0xE4</span>, <span class="hljs-number">0x58</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0xB8</span>, <span class="hljs-number">0xB3</span>, <span class="hljs-number">0x45</span>, <span class="hljs-number">0x06</span>],<br>    [<span class="hljs-number">0xD0</span>, <span class="hljs-number">0x2C</span>, <span class="hljs-number">0x1E</span>, <span class="hljs-number">0x8F</span>, <span class="hljs-number">0xCA</span>, <span class="hljs-number">0x3F</span>, <span class="hljs-number">0x0F</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0xC1</span>, <span class="hljs-number">0xAF</span>, <span class="hljs-number">0xBD</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x13</span>, <span class="hljs-number">0x8A</span>, <span class="hljs-number">0x6B</span>],<br>    [<span class="hljs-number">0x3A</span>, <span class="hljs-number">0x91</span>, <span class="hljs-number">0x11</span>, <span class="hljs-number">0x41</span>, <span class="hljs-number">0x4F</span>, <span class="hljs-number">0x67</span>, <span class="hljs-number">0xDC</span>, <span class="hljs-number">0xEA</span>, <span class="hljs-number">0x97</span>, <span class="hljs-number">0xF2</span>, <span class="hljs-number">0xCF</span>, <span class="hljs-number">0xCE</span>, <span class="hljs-number">0xF0</span>, <span class="hljs-number">0xB4</span>, <span class="hljs-number">0xE6</span>, <span class="hljs-number">0x73</span>],<br>    [<span class="hljs-number">0x96</span>, <span class="hljs-number">0xAC</span>, <span class="hljs-number">0x74</span>, <span class="hljs-number">0x22</span>, <span class="hljs-number">0xE7</span>, <span class="hljs-number">0xAD</span>, <span class="hljs-number">0x35</span>, <span class="hljs-number">0x85</span>, <span class="hljs-number">0xE2</span>, <span class="hljs-number">0xF9</span>, <span class="hljs-number">0x37</span>, <span class="hljs-number">0xE8</span>, <span class="hljs-number">0x1C</span>, <span class="hljs-number">0x75</span>, <span class="hljs-number">0xDF</span>, <span class="hljs-number">0x6E</span>],<br>    [<span class="hljs-number">0x47</span>, <span class="hljs-number">0xF1</span>, <span class="hljs-number">0x1A</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0x1D</span>, <span class="hljs-number">0x29</span>, <span class="hljs-number">0xC5</span>, <span class="hljs-number">0x89</span>, <span class="hljs-number">0x6F</span>, <span class="hljs-number">0xB7</span>, <span class="hljs-number">0x62</span>, <span class="hljs-number">0x0E</span>, <span class="hljs-number">0xAA</span>, <span class="hljs-number">0x18</span>, <span class="hljs-number">0xBE</span>, <span class="hljs-number">0x1B</span>],<br>    [<span class="hljs-number">0xFC</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x3E</span>, <span class="hljs-number">0x4B</span>, <span class="hljs-number">0xC6</span>, <span class="hljs-number">0xD2</span>, <span class="hljs-number">0x79</span>, <span class="hljs-number">0x20</span>, <span class="hljs-number">0x9A</span>, <span class="hljs-number">0xDB</span>, <span class="hljs-number">0xC0</span>, <span class="hljs-number">0xFE</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0xCD</span>, <span class="hljs-number">0x5A</span>, <span class="hljs-number">0xF4</span>],<br>    [<span class="hljs-number">0x1F</span>, <span class="hljs-number">0xDD</span>, <span class="hljs-number">0xA8</span>, <span class="hljs-number">0x33</span>, <span class="hljs-number">0x88</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0xC7</span>, <span class="hljs-number">0x31</span>, <span class="hljs-number">0xB1</span>, <span class="hljs-number">0x12</span>, <span class="hljs-number">0x10</span>, <span class="hljs-number">0x59</span>, <span class="hljs-number">0x27</span>, <span class="hljs-number">0x80</span>, <span class="hljs-number">0xEC</span>, <span class="hljs-number">0x5F</span>],<br>    [<span class="hljs-number">0x60</span>, <span class="hljs-number">0x51</span>, <span class="hljs-number">0x7F</span>, <span class="hljs-number">0xA9</span>, <span class="hljs-number">0x19</span>, <span class="hljs-number">0xB5</span>, <span class="hljs-number">0x4A</span>, <span class="hljs-number">0x0D</span>, <span class="hljs-number">0x2D</span>, <span class="hljs-number">0xE5</span>, <span class="hljs-number">0x7A</span>, <span class="hljs-number">0x9F</span>, <span class="hljs-number">0x93</span>, <span class="hljs-number">0xC9</span>, <span class="hljs-number">0x9C</span>, <span class="hljs-number">0xEF</span>],<br>    [<span class="hljs-number">0xA0</span>, <span class="hljs-number">0xE0</span>, <span class="hljs-number">0x3B</span>, <span class="hljs-number">0x4D</span>, <span class="hljs-number">0xAE</span>, <span class="hljs-number">0x2A</span>, <span class="hljs-number">0xF5</span>, <span class="hljs-number">0xB0</span>, <span class="hljs-number">0xC8</span>, <span class="hljs-number">0xEB</span>, <span class="hljs-number">0xBB</span>, <span class="hljs-number">0x3C</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x53</span>, <span class="hljs-number">0x99</span>, <span class="hljs-number">0x61</span>],<br>    [<span class="hljs-number">0x17</span>, <span class="hljs-number">0x2B</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x7E</span>, <span class="hljs-number">0xBA</span>, <span class="hljs-number">0x77</span>, <span class="hljs-number">0xD6</span>, <span class="hljs-number">0x26</span>, <span class="hljs-number">0xE1</span>, <span class="hljs-number">0x69</span>, <span class="hljs-number">0x14</span>, <span class="hljs-number">0x63</span>, <span class="hljs-number">0x55</span>, <span class="hljs-number">0x21</span>, <span class="hljs-number">0x0C</span>, <span class="hljs-number">0x7D</span>]<br>]<br></code></pre></td></tr></table></figure><p>Inv_Sub_Bytes操作的步骤如下：</p><ol><li>对于状态的每个字节，将其作为Inv_S-Box的行索引和列索引。</li><li>使用Inv_S-Box查找对应的逆字节值。</li><li>用找到的逆字节值替换原状态中的字节。</li></ol><p>代码实现：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inv_sub_bytes</span>(<span class="hljs-params">state</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    使用S盒对状态矩阵进行字节代换操作。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    参数：</span><br><span class="hljs-string">        state: 4x4矩阵，表示状态</span><br><span class="hljs-string"></span><br><span class="hljs-string">    返回值：</span><br><span class="hljs-string">        无，直接修改原始状态矩阵</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            byte = state[i][j]<br>            row = (byte &amp; <span class="hljs-number">0xF0</span>) &gt;&gt; <span class="hljs-number">4</span><br>            col = byte &amp; <span class="hljs-number">0x0F</span><br>            state[i][j] = invsbox[row][col]<br><br></code></pre></td></tr></table></figure><p>这个操作对于确保AES算法的对称性和安全性至关重要，因为它确保了加密和解密过程是可逆的。</p><h2 id="Inv-Mix-Columns（逆列混合）："><a href="#Inv-Mix-Columns（逆列混合）：" class="headerlink" title="Inv_Mix_Columns（逆列混合）："></a>Inv_Mix_Columns（逆列混合）：</h2><p>Inv_Mix_Columns是AES（高级加密标准）算法中的另一个步骤，它是Mix_Columns的逆过程，用于解密过程中对数据进行逆变换。在AES算法中，Inv_Mix_Columns操作对状态的每个列进行逆变换，以恢复原始数据。<br>AES的Mix_Columns操作在加密过程中对每个列进行线性变换，而Inv_Mix_Columns则是在解密过程中进行逆变换。这个操作涉及到矩阵乘法，使用了一个固定的逆矩阵来对列进行变换。<br>Inv_Mix_Columns操作的步骤如下：</p><ol><li><p>对于状态的每个列，将其视为一个4元素的向量。</p></li><li><p>使用固定的逆矩阵对每个列向量进行矩阵乘法。在AES中，这个逆矩阵是：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">Inverse_column_matrix = [<br>    [<span class="hljs-number">0x0e</span>, <span class="hljs-number">0x0b</span>, <span class="hljs-number">0x0d</span>, <span class="hljs-number">0x09</span>],<br>    [<span class="hljs-number">0x09</span>, <span class="hljs-number">0x0e</span>, <span class="hljs-number">0x0b</span>, <span class="hljs-number">0x0d</span>],<br>    [<span class="hljs-number">0x0d</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x0e</span>, <span class="hljs-number">0x0b</span>],<br>    [<span class="hljs-number">0x0b</span>, <span class="hljs-number">0x0d</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x0e</span>]<br>]<br></code></pre></td></tr></table></figure><p>其中，数字是十六进制表示的。这个矩阵与Mix_Columns操作中使用的矩阵互为逆矩阵。</p></li><li><p>将矩阵乘法的结果模上多项式( x^4 + 1 )（在GF(2^8)域中），以得到一个新的列向量。</p></li><li><p>用新的列向量替换原状态中的列。<br>这个操作确保了AES算法的扩散性，即使得明文和密文之间的相关性降低，从而提高了算法的安全性。在解密过程中，Inv_Mix_Columns操作与加密过程中的Mix_Columns操作相互抵消，从而恢复出原始明文。</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">galois_mult</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-comment"># GF(2^8)上的有限域乘法</span><br>    p = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">8</span>):<br>        <span class="hljs-keyword">if</span> b &amp; <span class="hljs-number">1</span>:<br>            p ^= a<br>        high_bit_set = a &amp; <span class="hljs-number">0x80</span><br>        a &lt;&lt;= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> high_bit_set:<br>            a ^= <span class="hljs-number">0x1B</span>  <span class="hljs-comment"># x^8 + x^4 + x^3 + x^1 + x^0</span><br>        b &gt;&gt;= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> p &amp; <span class="hljs-number">0xFF</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">inv_mix_columns</span>(<span class="hljs-params">state</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    对状态矩阵进行列混合操作。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    参数：</span><br><span class="hljs-string">        state: 4x4矩阵，表示状态</span><br><span class="hljs-string"></span><br><span class="hljs-string">    返回值：</span><br><span class="hljs-string">        无，直接修改原始状态矩阵</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    new_state = [[<span class="hljs-number">0</span>] * <span class="hljs-number">4</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>)]<br>    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            new_state[r][c] = (<br>                    galois_mult(state[<span class="hljs-number">0</span>][c], Inverse_column_matrix[r][<span class="hljs-number">0</span>]) ^  <span class="hljs-comment"># 第一列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">1</span>][c], Inverse_column_matrix[r][<span class="hljs-number">1</span>]) ^  <span class="hljs-comment"># 第二列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">2</span>][c], Inverse_column_matrix[r][<span class="hljs-number">2</span>]) ^  <span class="hljs-comment"># 第三列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">3</span>][c], Inverse_column_matrix[r][<span class="hljs-number">3</span>])  <span class="hljs-comment"># 第四列的乘法</span><br>            )<br>    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            state[r][c] = new_state[r][c]<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>密码学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AES</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AES 之Sub_Bytes&amp;Mix_Columns（一）</title>
    <link href="/2024/04/24/AES_Subbytes&amp;Mixcolumns%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2024/04/24/AES_Subbytes&amp;Mixcolumns%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h5 id="Sub-Bytes（字节代换）："><a href="#Sub-Bytes（字节代换）：" class="headerlink" title="Sub_Bytes（字节代换）："></a>Sub_Bytes（字节代换）：</h5><p>AES的字节代换其实就是一个简单的查表操作。</p><p>AES的S盒，也称为字节替换（SubBytes）步骤中的Rijndael S盒，是一个复杂的结构。它是一个16x16的查找表，接受8位输入并产生8位输出。AES的S盒是通过将每个字节与其逆元素在有限域GF(2^8)上相乘，然后通过一个固定的仿射变换得到的。这个S盒不仅具有非线性，而且还具有很好的扩散特性，能够抵抗各种密码分析技术。</p><p>其设计过程如下：</p><ul><li><strong>逆元素</strong>：首先，对于有限域GF(2^8)中的每个非零元素，找到它的逆元素。在GF(2^8)中，每个非零元素都有一个唯一的逆元素，使得它们的乘积模x^8 + x^4 + x^3 + x + 1等于1。</li><li><strong>仿射变换</strong>：接下来，对每个逆元素应用一个仿射变换。这个变换由一个可逆的线性变换和一个非线性变换组成，非线性变换是通过将每个字节与一个固定的多项式在GF(2^8)上相乘来实现的。</li><li><strong>优化</strong>：最后，对S盒进行优化，以确保它满足上述安全原则。这可能包括调整仿射变换的参数，以确保S盒对于各种密码分析技术具有足够的抵抗能力。</li></ul><h6 id="S盒定义："><a href="#S盒定义：" class="headerlink" title="S盒定义："></a>S盒定义：</h6><table><thead><tr><th align="center">行&#x2F;列</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th></tr></thead><tbody><tr><td align="center">0</td><td>0x63</td><td>0x7c</td><td>0x77</td><td>0x7b</td><td>0xf2</td><td>0x6b</td><td>0x6f</td><td>0xc5</td><td>0x30</td><td>0x01</td><td>0x67</td><td>0x2b</td><td>0xfe</td><td>0xd7</td><td>0xab</td><td>0x76</td></tr><tr><td align="center">1</td><td>0xca</td><td>0x82</td><td>0xc9</td><td>0x7d</td><td>0xfa</td><td>0x59</td><td>0x47</td><td>0xf0</td><td>0xad</td><td>0xd4</td><td>0xa2</td><td>0xaf</td><td>0x9c</td><td>0xa4</td><td>0x72</td><td>0xc0</td></tr><tr><td align="center">2</td><td>0xb7</td><td>0xfd</td><td>0x93</td><td>0x26</td><td>0x36</td><td>0x3f</td><td>0xf7</td><td>0xcc</td><td>0x34</td><td>0xa5</td><td>0xe5</td><td>0xf1</td><td>0x71</td><td>0xd8</td><td>0x31</td><td>0x15</td></tr><tr><td align="center">3</td><td>0x04</td><td>0xc7</td><td>0x23</td><td>0xc3</td><td>0x18</td><td>0x96</td><td>0x05</td><td>0x9a</td><td>0x07</td><td>0x12</td><td>0x80</td><td>0xe2</td><td>0xeb</td><td>0x27</td><td>0xb2</td><td>0x75</td></tr><tr><td align="center">4</td><td>0x09</td><td>0x83</td><td>0x2c</td><td>0x1a</td><td>0x1b</td><td>0x6e</td><td>0x5a</td><td>0xa0</td><td>0x52</td><td>0x3b</td><td>0xd6</td><td>0xb3</td><td>0x29</td><td>0xe3</td><td>0x2f</td><td>0x84</td></tr><tr><td align="center">5</td><td>0x53</td><td>0xd1</td><td>0x00</td><td>0xed</td><td>0x20</td><td>0xfc</td><td>0xb1</td><td>0x5b</td><td>0x6a</td><td>0xcb</td><td>0xbe</td><td>0x39</td><td>0x4a</td><td>0x4c</td><td>0x58</td><td>0xcf</td></tr><tr><td align="center">6</td><td>0xd0</td><td>0xef</td><td>0xaa</td><td>0xfb</td><td>0x43</td><td>0x4d</td><td>0x33</td><td>0x85</td><td>0x45</td><td>0xf9</td><td>0x02</td><td>0x7f</td><td>0x50</td><td>0x3c</td><td>0x9f</td><td>0xa8</td></tr><tr><td align="center">7</td><td>0x51</td><td>0xa3</td><td>0x40</td><td>0x8f</td><td>0x92</td><td>0x9d</td><td>0x38</td><td>0xf5</td><td>0xbc</td><td>0xb6</td><td>0xda</td><td>0x21</td><td>0x10</td><td>0xff</td><td>0xf3</td><td>0xd2</td></tr><tr><td align="center">8</td><td>0xcd</td><td>0x0c</td><td>0x13</td><td>0xec</td><td>0x5f</td><td>0x97</td><td>0x44</td><td>0x17</td><td>0xc4</td><td>0xa7</td><td>0x7e</td><td>0x3d</td><td>0x64</td><td>0x5d</td><td>0x19</td><td>0x73</td></tr><tr><td align="center">9</td><td>0x60</td><td>0x81</td><td>0x4f</td><td>0xdc</td><td>0x22</td><td>0x2a</td><td>0x90</td><td>0x88</td><td>0x46</td><td>0xee</td><td>0xb8</td><td>0x14</td><td>0xde</td><td>0x5e</td><td>0x0b</td><td>0xdb</td></tr><tr><td align="center">A</td><td>0xe0</td><td>0x32</td><td>0x3a</td><td>0x0a</td><td>0x49</td><td>0x06</td><td>0x24</td><td>0x5c</td><td>0xc2</td><td>0xd3</td><td>0xac</td><td>0x62</td><td>0x91</td><td>0x95</td><td>0xe4</td><td>0x79</td></tr><tr><td align="center">B</td><td>0xe7</td><td>0xc8</td><td>0x37</td><td>0x6d</td><td>0x8d</td><td>0xd5</td><td>0x4e</td><td>0xa9</td><td>0x6c</td><td>0x56</td><td>0xf4</td><td>0xea</td><td>0x65</td><td>0x7a</td><td>0xae</td><td>0x08</td></tr><tr><td align="center">C</td><td>0xba</td><td>0x78</td><td>0x25</td><td>0x2e</td><td>0x1c</td><td>0xa6</td><td>0xb4</td><td>0xc6</td><td>0xe8</td><td>0xdd</td><td>0x74</td><td>0x1f</td><td>0x4b</td><td>0xbd</td><td>0x8b</td><td>0x8a</td></tr><tr><td align="center">D</td><td>0x70</td><td>0x3e</td><td>0xb5</td><td>0x66</td><td>0x48</td><td>0x03</td><td>0xf6</td><td>0x0e</td><td>0x61</td><td>0x35</td><td>0x57</td><td>0xb9</td><td>0x86</td><td>0xc1</td><td>0x1d</td><td>0x9e</td></tr><tr><td align="center">E</td><td>0xe1</td><td>0xf8</td><td>0x98</td><td>0x11</td><td>0x69</td><td>0xd9</td><td>0x8e</td><td>0x94</td><td>0x9b</td><td>0x1e</td><td>0x87</td><td>0xe9</td><td>0xce</td><td>0x55</td><td>0x28</td><td>0xdf</td></tr><tr><td align="center">F</td><td>0x8c</td><td>0xa1</td><td>0x89</td><td>0x0d</td><td>0xbf</td><td>0xe6</td><td>0x42</td><td>0x68</td><td>0x41</td><td>0x99</td><td>0x2d</td><td>0x0f</td><td>0xb0</td><td>0x54</td><td>0xbb</td><td>0x16</td></tr></tbody></table><p>状态矩阵中的元素按照下面的方式映射为一个新的字节：把该字节的高4位作为行值，低4位作为列值，取出S盒或者逆S盒中对应的行的元素作为输出。<br>例如:<br>加密时输出的字节S1为0x12,则查S盒的第0x01行和0x02列，得到值0xc9,然后替换S1原有的0x12为0xc9；<br>加密时输出的字节S4为0xAB,则查S盒的第0x0A行和0x0B列，得到值0x62,然后替换S4原有的0xAB为0x62。</p><p>状态矩阵经字节代换后的图如下：</p><p><img src="/../img/AES_1.png" alt="字节变换"></p><h6 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sub_bytes</span>(<span class="hljs-params">state</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    使用S盒对状态矩阵进行字节代换操作。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    参数：</span><br><span class="hljs-string">        state: 4x4矩阵，表示状态</span><br><span class="hljs-string"></span><br><span class="hljs-string">    返回值：</span><br><span class="hljs-string">        无，直接修改原始状态矩阵</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            byte = state[i][j]<br>            row = (byte &amp; <span class="hljs-number">0xF0</span>) &gt;&gt; <span class="hljs-number">4</span><br>            col = byte &amp; <span class="hljs-number">0x0F</span><br>            state[i][j] = sbox[row][col]<br></code></pre></td></tr></table></figure><h5 id="Mix-Columns（列混合）："><a href="#Mix-Columns（列混合）：" class="headerlink" title="Mix_Columns（列混合）："></a>Mix_Columns（列混合）：</h5><p>列混合变换是通过矩阵相乘来实现的，经行移位后的状态矩阵与固定的矩阵相乘，得到混淆后的状态矩阵，如下图的公式所示：</p><p><img src="/../img/AES_2.png" alt="状态矩阵"></p><p>状态矩阵中的第j列(0 ≤j≤3)的列混合可以表示为下图所示：</p><p><img src="/../img/AES_3.png" alt="混合"></p><h6 id="列混合数学基础："><a href="#列混合数学基础：" class="headerlink" title="列混合数学基础："></a>列混合数学基础：</h6><p>矩阵乘法在AES的有限域GF(2^8)上进行，这意味着加法和乘法都是在模数为x^8 + x^4 + x^3 + x + 1的有限域中进行的。</p><p>加法：等价于两个字节的异或；</p><p>乘法：两元素多项式相乘，模m(x)；</p><p>例：57×83&#x3D;C1     </p><p>(x^6+x^4+x^2+x+1)*(x^7+x+1)&#x3D;x^7+x^6+1 mod m(x)</p><p>AES算法中定义m(x)多项式（不可约多项式）为：m(x)&#x3D;x^8+x^4+x^3+x+1（十六进制的011B)</p><h6 id="简化理解："><a href="#简化理解：" class="headerlink" title="简化理解："></a>简化理解：</h6><p>对于一个8位的二进制数来说，使用域上的乘法乘以0x02(00000010)等价于左移1位(低位补0)后，再根据情况同固定的数0x1B(00011011)进行异或运算。如果a7为1，则进行异或运算，否则不进行。</p><p>设S1 &#x3D; (a7 a6 a5 a4 a3 a2 a1 a0)，则0x02 * S1如下图所示：</p><p><img src="/../img/AES_4.png" alt="0x02 * S1"></p><p>结合律：类似地，乘以(00000100)可以拆分成两次乘以(00000010)的运算：</p><p><img src="/../img/AES_5.png" alt="结合律_1"></p><p>结合律：乘以(0000 0011)可以拆分成先分别乘以(0000 0001)和(0000 0010)，再将两个乘积异或：</p><p><img src="/../img/AES_6.png" alt="结合律_2"></p><h6 id="代码实现：-1"><a href="#代码实现：-1" class="headerlink" title="代码实现："></a>代码实现：</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">galois_mult</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-comment"># GF(2^8)上的有限域乘法</span><br>    p = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">8</span>):<br>        <span class="hljs-keyword">if</span> b &amp; <span class="hljs-number">1</span>:<br>            p ^= a<br>        high_bit_set = a &amp; <span class="hljs-number">0x80</span><br>        a &lt;&lt;= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> high_bit_set:<br>            a ^= <span class="hljs-number">0x1B</span>  <span class="hljs-comment"># x^8 + x^4 + x^3 + x^1 + x^0</span><br>        b &gt;&gt;= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> p &amp; <span class="hljs-number">0xFF</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mix_columns</span>(<span class="hljs-params">state</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    对状态矩阵进行列混合操作。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    参数：</span><br><span class="hljs-string">        state: 4x4矩阵，表示状态</span><br><span class="hljs-string"></span><br><span class="hljs-string">    返回值：</span><br><span class="hljs-string">        无，直接修改原始状态矩阵</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    new_state = [[<span class="hljs-number">0</span>] * <span class="hljs-number">4</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>)]<br>    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            new_state[r][c] = (<br>                    galois_mult(state[<span class="hljs-number">0</span>][c], mix_columns_matrix[r][<span class="hljs-number">0</span>]) ^  <span class="hljs-comment"># 第一列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">1</span>][c], mix_columns_matrix[r][<span class="hljs-number">1</span>]) ^  <span class="hljs-comment"># 第二列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">2</span>][c], mix_columns_matrix[r][<span class="hljs-number">2</span>]) ^  <span class="hljs-comment"># 第三列的乘法</span><br>                    galois_mult(state[<span class="hljs-number">3</span>][c], mix_columns_matrix[r][<span class="hljs-number">3</span>])  <span class="hljs-comment"># 第四列的乘法</span><br>            )<br>    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            state[r][c] = new_state[r][c]<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>密码学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AES</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DES-S 盒</title>
    <link href="/2024/04/24/DES_s%E7%9B%92/"/>
    <url>/2024/04/24/DES_s%E7%9B%92/</url>
    
    <content type="html"><![CDATA[<h1 id="DES-s盒"><a href="#DES-s盒" class="headerlink" title="DES_s盒"></a>DES_s盒</h1><p>DES的S盒是一个固定的查找表，它接受6位输入并产生4位输出。DES有8个不同的S盒，每个S盒都是独立的，用于替代&#x2F;替换过程。DES的S盒设计考虑了当时的技术限制，以及对抗已知攻击的需求，包括差分密码分析和线性密码分析。DES的S盒具有非线性特性，这对于提高算法的安全性至关重要。</p><p>s盒代换代码实现：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># 生成 48 比特的二进制字符串</span><br>binary_input = <span class="hljs-string">&#x27;&#x27;</span>.join(random.choice(<span class="hljs-string">&#x27;01&#x27;</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">48</span>))<br><br><br>S_BOX = [<br>    [<span class="hljs-number">14</span>, <span class="hljs-number">4</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>, <span class="hljs-number">11</span>, <span class="hljs-number">8</span>, <span class="hljs-number">3</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">7</span>,<br>     <span class="hljs-number">0</span>, <span class="hljs-number">15</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>,<br>     <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>, <span class="hljs-number">11</span>, <span class="hljs-number">15</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>,<br>     <span class="hljs-number">15</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>, <span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">13</span>],<br><br>    [<span class="hljs-number">15</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">11</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>,<br>     <span class="hljs-number">3</span>, <span class="hljs-number">13</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">14</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">5</span>,<br>     <span class="hljs-number">0</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>,<br>     <span class="hljs-number">13</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">15</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">11</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">14</span>, <span class="hljs-number">9</span>],<br><br>    [<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">15</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">13</span>, <span class="hljs-number">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>,<br>     <span class="hljs-number">13</span>, <span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">5</span>, <span class="hljs-number">14</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">15</span>, <span class="hljs-number">1</span>,<br>     <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>,<br>     <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>],<br><br>    [<span class="hljs-number">7</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">15</span>,<br>     <span class="hljs-number">13</span>, <span class="hljs-number">8</span>, <span class="hljs-number">11</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">15</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">9</span>,<br>     <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">12</span>, <span class="hljs-number">11</span>, <span class="hljs-number">7</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>,<br>     <span class="hljs-number">3</span>, <span class="hljs-number">15</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">13</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">14</span>],<br><br>    [<span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, <span class="hljs-number">14</span>, <span class="hljs-number">9</span>,<br>     <span class="hljs-number">14</span>, <span class="hljs-number">11</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">15</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>,<br>     <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">15</span>, <span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">14</span>,<br>     <span class="hljs-number">11</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">15</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>],<br><br>    [<span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">13</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>,<br>     <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>,<br>     <span class="hljs-number">9</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">13</span>, <span class="hljs-number">11</span>, <span class="hljs-number">6</span>,<br>     <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>],<br><br>    [<span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">2</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">3</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>,<br>     <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">12</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>,<br>     <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">12</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>,<br>     <span class="hljs-number">6</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">12</span>],<br><br>    [<span class="hljs-number">13</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">15</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">12</span>, <span class="hljs-number">7</span>,<br>     <span class="hljs-number">1</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">11</span>, <span class="hljs-number">0</span>, <span class="hljs-number">14</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>,<br>     <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>,<br>     <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">15</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">11</span>]]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">s_box</span>(<span class="hljs-params">binstr</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;s盒：48bit-&gt;32bit&quot;&quot;&quot;</span><br>    box = <span class="hljs-number">0</span>  <span class="hljs-comment"># S盒的索引</span><br>    res = <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(binstr), <span class="hljs-number">6</span>):<br>        tmp = binstr[i:i + <span class="hljs-number">6</span>]<br>        row = <span class="hljs-built_in">int</span>(tmp[<span class="hljs-number">0</span>] + tmp[<span class="hljs-number">5</span>], <span class="hljs-number">2</span>)<br>        col = <span class="hljs-built_in">int</span>(tmp[<span class="hljs-number">1</span>:<span class="hljs-number">5</span>], <span class="hljs-number">2</span>)<br><br>        num = <span class="hljs-built_in">bin</span>(S_BOX[box][<span class="hljs-number">16</span> * row + col])[<span class="hljs-number">2</span>:]<br>        num = <span class="hljs-string">&#x27;0&#x27;</span> * (<span class="hljs-number">4</span> - <span class="hljs-built_in">len</span>(num)) + num  <span class="hljs-comment"># 以0左补全4位</span><br><br>        res += num<br>        box += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">return</span> res<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bit_to_hex</span>(<span class="hljs-params">bitstr</span>):<br>    <span class="hljs-string">&quot;&quot;&quot; 二进制比特流-&gt;十六进制字符串 &quot;&quot;&quot;</span><br>    bitlst = [bitstr[i:i + <span class="hljs-number">4</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(bitstr), <span class="hljs-number">4</span>)]<br>    hexlst = [<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">int</span>(i, <span class="hljs-number">2</span>))[<span class="hljs-number">2</span>:].lower() <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> bitlst]<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join(hexlst)<br><br><br>output = s_box(binary_input)<br>output_hex = bit_to_hex(output)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;替换后的结果:&quot;</span>, output_hex)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>密码学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DES</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python（一）</title>
    <link href="/2024/04/17/Python%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <url>/2024/04/17/Python%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="Python语言基础-流程控制"><a href="#Python语言基础-流程控制" class="headerlink" title="Python语言基础-流程控制"></a>Python语言基础-流程控制</h2><p>Python语言的基础流程控制包括条件语句（if语句）、循环语句（for循环和while循环）以及跳转语句（break、continue和return语句）。即：</p><ol><li><strong>条件语句（if语句）</strong>：if语句用于根据条件执行代码块。它可以包含一个或多个条件以及相应的代码块。Python使用缩进来表示代码块。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> condition1:<br>    <span class="hljs-comment"># 如果条件1为真，则执行这里的代码</span><br><span class="hljs-keyword">elif</span> condition2:<br>    <span class="hljs-comment"># 如果条件2为真，则执行这里的代码</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-comment"># 如果以上条件都不满足，则执行这里的代码</span><br></code></pre></td></tr></table></figure><ol start="2"><li><strong>循环语句</strong>：</li></ol><ul><li><strong>for循环</strong>：用于迭代可迭代对象（如列表、元组、字典等）中的元素。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> iterable:<br>    <span class="hljs-comment"># 对每个元素执行的代码</span><br></code></pre></td></tr></table></figure><ul><li><strong>while循环</strong>：在条件为真时重复执行代码块，直到条件为假为止。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> condition:<br>    <span class="hljs-comment"># 在条件为真时执行的代码</span><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>跳转语句</strong>：<ul><li><strong>break语句</strong>：用于跳出循环，即使循环条件没有变为False。</li><li><strong>continue语句</strong>：用于跳过循环体中的剩余代码，继续下一次循环。</li><li><strong>return语句</strong>：用于从函数中返回值，并结束函数的执行。</li></ul></li></ol><p>这些是Python中基础的流程控制结构，它们可以帮助你编写更加灵活和功能强大的程序。</p><p>some  demos：</p><p>1.计算平均成绩代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">total=<span class="hljs-number">0</span>;ave=<span class="hljs-number">0</span>;count=<span class="hljs-number">0</span>;<br>score=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入学生英语成绩：&quot;</span>))<br><span class="hljs-keyword">while</span> score != -<span class="hljs-number">1</span>:<br>    total=total+score<br>    count=count+<span class="hljs-number">1</span><br>    score=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入学生英语成绩：&quot;</span>))<br><span class="hljs-keyword">if</span> count != <span class="hljs-number">0</span>:<br>    average = total / count  <span class="hljs-comment"># 如果count为0时，这里会导致ZeroDivisionError，可以加上判断条件避免除零错误-1</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;录入学生英语成绩 %d 份，学生英语总成绩 %d，平均成绩 %4.2f.&quot;</span> % (count, total, average))<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;没有录入学生英语成绩。&quot;</span>)<br></code></pre></td></tr></table></figure><p>代码逻辑：首先输入第一个学生的成绩然后进入while循环，输入完所有数据后输入-1跳出循环，计算并输出结果</p><p>优化：average &#x3D; total &#x2F; count  后加上判断条件避免除零错误-1 </p><p>2.列表输出代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">universities = [<span class="hljs-string">&#x27;哈佛大学&#x27;</span>,<span class="hljs-string">&#x27;斯坦福大学&#x27;</span>,<span class="hljs-string">&#x27;剑桥大学&#x27;</span>,<span class="hljs-string">&#x27;麻省理工学院&#x27;</span>,<span class="hljs-string">&#x27;加州大学-伯克利&#x27;</span>,<span class="hljs-string">&#x27;普林\</span><br><span class="hljs-string">斯顿大学&#x27;</span>,<span class="hljs-string">&#x27;牛津大学&#x27;</span>,<span class="hljs-string">&#x27;哥伦比亚大学&#x27;</span>,<span class="hljs-string">&#x27;加州理工学院&#x27;</span>,<span class="hljs-string">&#x27;芝加哥大学&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;2017《Times》世界大学排名前3的大学是：&quot;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(i+<span class="hljs-number">1</span>)+<span class="hljs-string">&quot;.&quot;</span>,universities[i])<br></code></pre></td></tr></table></figure><p>代码逻辑：首先定义了一个包含了若干大学名称的列表，然后通过一个循环打印出了这个列表中前6个元素（大学名称），每个元素前面带有相应的排名</p><p>3.猜数字大小代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br>key = random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------猜数字游戏开始！------&#x27;</span>)<br>count = <span class="hljs-number">0</span><br>x= <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入数字：&#x27;</span>))<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-comment"># 检查输入是否为数字</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> x.isdigit():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;请输入一个有效的数字！&#x27;</span>)<br>        <span class="hljs-keyword">continue</span><br>    count = count + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> x &gt; key:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;您猜的数字大了！&#x27;</span>)<br>    <span class="hljs-keyword">elif</span> x &lt; key:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;您猜的数字小了！&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;恭喜您，猜对了！&#x27;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">5</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;很遗憾，您没猜中！生成数字是：%d.&#x27;</span>%key)<br>        <span class="hljs-keyword">break</span><br>    x=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入数字：&quot;</span>))<br></code></pre></td></tr></table></figure><p>4.斐波那契数列代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">n1=<span class="hljs-number">1</span><br>n2=<span class="hljs-number">1</span><br>count=<span class="hljs-number">2</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;斐波那契数列前10项为:&quot;</span>,end=<span class="hljs-string">&quot; &quot;</span>)<br><span class="hljs-built_in">print</span>(n1,n2,end=<span class="hljs-string">&quot; &quot;</span>)<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> count&gt;=<span class="hljs-number">10</span>:<br>     <span class="hljs-keyword">break</span><br>    nth=n1+n2<br>    <span class="hljs-built_in">print</span>(nth,end=<span class="hljs-string">&quot; &quot;</span>)<br>    n1=n2<br>    n2=nth<br>    count+=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>代码逻辑：首先定义了 n1&#x3D;1、n2&#x3D;1、count&#x3D;2，然后使用 print() 函数输出前两项的值，并设置 end&#x3D;” “，使得输出不换行而是在同一行显示。接着进入一个 while 的循环，每次循环计算下一个斐波那契数，并输出该数，然后更新 n1、n2 的值，同时 count 加一，直到 count 达到 10 时退出循环. </p><p> OR:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>):<br>    fib_seq = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]     <span class="hljs-comment"># 初始化斐波那契数列的前两个数字</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, n):      <span class="hljs-comment"># 生成斐波那契数列的第三个数字开始的前 n 个数字</span><br>        fib_seq.append(fib_seq[-<span class="hljs-number">1</span>] + fib_seq[-<span class="hljs-number">2</span>])      <span class="hljs-comment"># 计算下一个斐波那契数并添加到数列中</span><br>    <span class="hljs-keyword">return</span> fib_seq<br><br>Fib_seq = fibonacci(<span class="hljs-number">50</span>)     <span class="hljs-comment"># 调用 Fibonacci 函数生成斐波那契数列的前 50 位数字</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;斐波那契数列的前 50 位数字：&quot;</span>, Fib_seq)<br></code></pre></td></tr></table></figure><p>5.模拟自动饮料机代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br>投币 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请投币：&quot;</span>))<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> 投币 == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;叮咚：设备停止工作！&quot;</span>)<br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">elif</span> 投币 == <span class="hljs-number">1</span>:<br>        叮咚 = <span class="hljs-string">&quot;冰露纯净水&quot;</span><br>    <span class="hljs-keyword">elif</span> 投币 == <span class="hljs-number">2</span>:<br>        叮咚 = <span class="hljs-string">&quot;农夫山泉矿泉水&quot;</span><br>    <span class="hljs-keyword">elif</span> 投币 == <span class="hljs-number">3</span>:<br>        叮咚 = <span class="hljs-string">&quot;冰红茶&quot;</span><br>    <span class="hljs-keyword">elif</span> 投币 == <span class="hljs-number">4</span>:<br>        叮咚 = <span class="hljs-string">&quot;脉动&quot;</span><br>    <span class="hljs-keyword">elif</span> 投币 == <span class="hljs-number">5</span>:<br>        叮咚 = <span class="hljs-string">&quot;红牛&quot;</span><br>    <span class="hljs-keyword">else</span>:<br>        叮咚 = <span class="hljs-string">&quot;投币错误！请重新投币...&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;叮咚：&quot;</span>, 叮咚)<br>    投币 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请投币：&quot;</span>))<br></code></pre></td></tr></table></figure><p>代码逻辑：使用int(input(“请投币：”))语句，提示用户输入投币金额，并将输入的字符串转换为整数。使用while True:建立了一个无限循环，直到用户选择停止购买或投币金额为0时才会退出循环。 根据用户输入的投币金额，使用if-elif-else语句进行条件判断，确定对应的饮料，并输出相应信息。 </p><p>6.数列求和代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">i = <span class="hljs-number">1</span>; n = <span class="hljs-number">10</span>; <span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> i &lt;= n:<br>    <span class="hljs-keyword">if</span> i % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>:<br>        i = i + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">continue</span><br>    <span class="hljs-built_in">sum</span> = <span class="hljs-built_in">sum</span> + i<br>    i = i + <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sum=&quot;</span>,<span class="hljs-built_in">sum</span>)<br></code></pre></td></tr></table></figure><p>代码逻辑：计算从1到10（包括1和10）之间所有偶数的和。continue 语句是关键，它确保了只有偶数会被加到 sum 变量中，而奇数则会被跳过。</p><p>优化：①变量名 sum 覆盖了 Python 内置函数 sum()，最好避免使用内置函数名作为变量名。</p><p>②i 的更新在两个地方出现了，可以简化为循环的 for 形式。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">n = <span class="hljs-number">10</span><br>total_sum = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, n + <span class="hljs-number">1</span>, <span class="hljs-number">2</span>):<br>    total_sum += i<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sum =&quot;</span>, total_sum) <br></code></pre></td></tr></table></figure><p>7.输出对角线元素为1 的4 行4 列矩阵代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>):<br>        <span class="hljs-keyword">if</span> i==j <span class="hljs-keyword">or</span> i+j==<span class="hljs-number">5</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><p>代码逻辑；嵌套循环，在内层循环中，通过判断条件来确定当前位置应该打印1还是0：若当前位置位于主对角线（i &#x3D;&#x3D; j）或副对角线（i + j &#x3D;&#x3D; 5），则打印1。否则，打印0。 </p><p>8.通过for 循环打印99 乘法表代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,i+<span class="hljs-number">1</span>):<br>        total=i*j<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;j&#125;</span>*<span class="hljs-subst">&#123;i&#125;</span>=<span class="hljs-subst">&#123;i*j&#125;</span>&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><p>代码逻辑：使用两层嵌套的 for 循环。外层循环控制行数（从1到9），内层循环控制每行中的列数（也是从1到行号）。最后使用 f-string 格式化字符串打印结果。</p><p>11.打印如下所示的菱形代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 打印上半部分</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>):  <span class="hljs-comment"># 控制行数，上半部分有4行</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; &quot;</span> * (<span class="hljs-number">4</span> - i) + <span class="hljs-string">&quot;*&quot;</span> * (<span class="hljs-number">2</span> * i - <span class="hljs-number">1</span>))  <span class="hljs-comment"># 打印空格和星号，构成菱形的每一行</span><br><br><span class="hljs-comment"># 打印下半部分</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):  <span class="hljs-comment"># 控制行数，下半部分有3行</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; &quot;</span> * (<span class="hljs-number">4</span> - i) + <span class="hljs-string">&quot;*&quot;</span> * (<span class="hljs-number">2</span> * i - <span class="hljs-number">1</span>))  <span class="hljs-comment"># 打印空格和星号，构成菱形的每一行</span><br></code></pre></td></tr></table></figure><p>代码逻辑：</p><p>上半部分：使用for循环迭代从1到4的范围，控制菱形上半部分的行数。在每一行中，通过”  “<em>(4-i)打印一定数量的空格，使得菱形居中对齐。使用 “</em>“ * (2 * i - 1) 打印一定数量的星号，构成菱形上半部分的每一行。</p><p>下半部分：使用 for 循环迭代从3到1的范围（步长为-1），控制菱形下半部分的行数。在每一行中，同样通过 “ “ * (4 - i) 打印一定数量的空格，使得菱形居中对齐。使用 “*” * (2 * i - 1) 打印一定数量的星号，构成菱形下半部分的每一行。</p><p>结果：</p><p><img src="/../img/wps25.jpg"> </p><p>小记：打牢基础！！！</p><p>Python 的流程控制对于控制程序执行流程非常重要。在学习 Python 的流程控制时，对于条件语句 (if-elif-else)、循环语句 (for、while)、以及控制语句 (break、continue) 等基本知识的掌握十分重要。在编写代码时，合理运用这些流程控制结构可以让代码更加清晰、简洁，同时实现不同的逻辑要求。同时，准确理解语句块的缩进在 Python 中尤为重要，因为它决定了哪些语句属于同一个语句块，也能让我们更好了解代码逻辑。同时，在学习这一内容时，我认为对于基础语句的规则和使用场景的理解需要着重学习。</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>流程控制</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python（二）</title>
    <link href="/2024/04/17/%E7%BB%84%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <url>/2024/04/17/%E7%BB%84%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="组合数据类型（一）"><a href="#组合数据类型（一）" class="headerlink" title="组合数据类型（一）"></a>组合数据类型（一）</h2><ol><li><strong>字符串的相关操作函数包括但不限于</strong>：</li></ol><ul><li><code>len(string)</code>: 返回字符串的长度。</li><li><code>string[index]</code>: 获取字符串中索引为index的字符。</li><li><code>string[start:end:step]</code>: 切片操作，获取字符串的子串。</li><li><code>string.count(substring)</code>: 统计子串在字符串中出现的次数。</li><li><code>string.find(substring)</code>: 查找子串在字符串中第一次出现的位置。</li><li><code>string.replace(old, new)</code>: 替换字符串中的部分内容。</li><li><code>string.upper()</code>, <code>string.lower()</code>: 将字符串转换为全大写或全小写。</li><li><code>string.strip()</code>, <code>string.lstrip()</code>, <code>string.rstrip()</code>: 去除字符串两端或指定端的空白字符。</li></ul><ol start="2"><li><strong>列表相关操作函数包括但不限于</strong>：</li></ol><ul><li><code>len(list)</code>: 返回列表的长度。</li><li><code>list.append(element)</code>: 在列表末尾添加一个元素。</li><li><code>list.extend(iterable)</code>: 在列表末尾一次性追加另一个可迭代对象的所有元素。</li><li><code>list.insert(index, element)</code>: 在指定位置插入一个元素。</li><li><code>list.remove(element)</code>: 移除列表中第一个匹配的元素。</li><li><code>list.pop([index])</code>: 移除并返回指定位置的元素，默认是移除并返回最后一个元素。</li><li><code>list.index(element)</code>: 返回列表中第一个匹配元素的索引。</li><li><code>list.count(element)</code>: 返回元素在列表中出现的次数。</li><li><code>list.sort()</code>: 对列表进行排序。</li><li><code>list.reverse()</code>: 将列表中的元素倒序排列。</li><li><code>list.copy()</code>: 返回列表的浅复制。</li></ul><ol start="3"><li><strong>元组相关操作函数</strong>：</li></ol><ul><li><code>len(tuple)</code>: 返回元组的长度。</li><li><code>tuple.index(element)</code>: 返回元组中第一个匹配元素的索引。</li><li><code>tuple.count(element)</code>: 返回元素在元组中出现的次数。</li></ul><h2 id="组合数据类型（二）"><a href="#组合数据类型（二）" class="headerlink" title="组合数据类型（二）"></a>组合数据类型（二）</h2><h3 id="字典（dict）"><a href="#字典（dict）" class="headerlink" title="字典（dict）"></a>字典（dict）</h3><p>字典是一种键值对集合，每个键都是唯一的，并且与一个值相关联。字典的键值对是无序的，键必须是不可变数据类型，如字符串、数字或元组，而值可以是任何数据类型。</p><h4 id="创建字典"><a href="#创建字典" class="headerlink" title="创建字典"></a>创建字典</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建一个空字典</span><br>empty_dict = &#123;&#125;<br><span class="hljs-comment"># 创建一个包含键值对的字典</span><br>fruit_colors = &#123;<span class="hljs-string">&#x27;apple&#x27;</span>: <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>: <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;cherry&#x27;</span>: <span class="hljs-string">&#x27;red&#x27;</span>&#125;<br><span class="hljs-comment"># 使用字典推导式创建字典</span><br>square_dict = &#123;i: i**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)&#125;<br></code></pre></td></tr></table></figure><h4 id="访问字典"><a href="#访问字典" class="headerlink" title="访问字典"></a>访问字典</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 访问键对应的值</span><br>color = fruit_colors[<span class="hljs-string">&#x27;apple&#x27;</span>]  <span class="hljs-comment"># 结果是 &#x27;red&#x27;</span><br><span class="hljs-comment"># 使用get方法访问键对应的值，如果键不存在返回None或指定的默认值</span><br>color = fruit_colors.get(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;default_color&#x27;</span>)  <span class="hljs-comment"># 结果是 &#x27;red&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="修改字典"><a href="#修改字典" class="headerlink" title="修改字典"></a>修改字典</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 添加新的键值对</span><br>fruit_colors[<span class="hljs-string">&#x27;orange&#x27;</span>] = <span class="hljs-string">&#x27;orange&#x27;</span><br><span class="hljs-comment"># 修改已有的键值对</span><br>fruit_colors[<span class="hljs-string">&#x27;apple&#x27;</span>] = <span class="hljs-string">&#x27;green&#x27;</span><br><span class="hljs-comment"># 删除键值对</span><br><span class="hljs-keyword">del</span> fruit_colors[<span class="hljs-string">&#x27;banana&#x27;</span>]<br></code></pre></td></tr></table></figure><h4 id="字典遍历"><a href="#字典遍历" class="headerlink" title="字典遍历"></a>字典遍历</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 遍历字典的键</span><br><span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruit_colors:<br>    <span class="hljs-built_in">print</span>(fruit)<br><span class="hljs-comment"># 遍历字典的键和值</span><br><span class="hljs-keyword">for</span> fruit, color <span class="hljs-keyword">in</span> fruit_colors.items():<br>    <span class="hljs-built_in">print</span>(fruit, color)<br></code></pre></td></tr></table></figure><h4 id="字典操作函数dict-fromkeys-seq-value"><a href="#字典操作函数dict-fromkeys-seq-value" class="headerlink" title="字典操作函数dict.fromkeys(seq[, value])"></a>字典操作函数dict.fromkeys(seq[, value])</h4><p>fromkeys() 函数用于创建一个新字典，以序列 seq 中元素做字典的键，value 为字典所有键对应的初始值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">key_list = [<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-string">&quot;hobby&quot;</span>]<br>val = <span class="hljs-string">&quot;test&quot;</span><br>d= &#123;&#125;<br>d = d.fromkeys(key_list)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;新字典&quot;</span>,d)<br>d = d.fromkeys(key_list, val)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;新字典&quot;</span>,d)<br></code></pre></td></tr></table></figure><p>使用fromkeys方法创建一个新字典，并将key_list中的所有键添加到字典d中。fromkeys方法返回一个新的字典，其中包含指定的键，每个键的值都是None。这是<em><strong>因为fromkeys方法在没有指定值的情况下默认使用None作为所有键的值</strong></em>。再次使用fromkeys方法创建一个新字典，这次指定了val作为所有键的值。这将创建一个新字典，其中包含key_list中的所有键，每个键的值都是字符串”test”。（<strong>由于fromkeys方法会创建一个新的字典，所以在第二次调用fromkeys时，实际上覆盖了第一次创建的字典。</strong>）</p><h4 id="字典的复制与拷贝"><a href="#字典的复制与拷贝" class="headerlink" title="字典的复制与拷贝"></a>字典的复制与拷贝</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;复制与浅拷贝的区别:复制相当于引用，即给原字典起了一个别名，而浅拷贝是，对一级目录直接拷贝，而对二级目录只是引用。&quot;&quot;&quot;</span><br><span class="hljs-comment"># 浅拷贝copy</span><br>Alex = [<span class="hljs-number">12</span>,<span class="hljs-string">&#x27;sing&#x27;</span>]<br>Thea = &#123;<span class="hljs-number">20</span>:<span class="hljs-string">&#x27;dance&#x27;</span>&#125;<br>dict1= &#123;<span class="hljs-string">&#x27;Alex&#x27;</span>:Alex,<span class="hljs-string">&#x27;Thea&#x27;</span>:Thea&#125;<br>dict_cpl = dict1<br>dict_cp2 = dict1.copy()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;原始字典dict1: &quot;</span>,dict1)<br>dict1[<span class="hljs-string">&#x27;Alex&#x27;</span>]= Thea<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;修改后的字典dict1: &quot;</span>,dict1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;字典dict1的复制(与原字典一致): &quot;</span>,dict_cpl)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;浅拷贝字典dict1(不会随着原字典一级目录的改变而改变): &quot;</span>,dict_cp2)<br>Alex_1=Alex.append(<span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(dict_cp2)<br></code></pre></td></tr></table></figure><p>创建一个名为dict_cpl的变量，并将其赋值为dict1。这种复制方式<strong>实际上是创建了dict1的一个引用，而不是一个全新的字典</strong>。因此，dict_cpl和dict1指向内存中的同一个对象。创建一个名为dict_cp2的变量，并将其赋值为dict1.copy()。这是使用copy方法进行的浅拷贝，它会创建一个新的字典，但是字典中的可变对象（如列表和字典）仍然是引用。这意味着dict_cp2是dict1的一个独立副本，但是<strong>如果修改了dict1中的可变对象，这些修改也会反映在dict_cp2中</strong>。</p><h5 id="小记"><a href="#小记" class="headerlink" title="小记"></a>小记</h5><p>复制（引用）是指向同一个对象的另一个指针，而浅拷贝是创建一个新的对象，但是新对象中的可变元素仍然是原对象中相应元素的引用。在这个例子中，dict_cpl是dict1的引用，而dict_cp2是dict1的浅拷贝。当dict1的’Alex’键被修改时，dict_cpl会显示这个修改，因为它是引用；而dict_cp2不会显示这个修改，因为它是一个新的字典象，但是如果在dict1中修改了Thea字典中的内容，那么dict_cp2中的’Thea’键也会显示这个修改，因为浅拷贝只拷贝一级目录。</p><h3 id="集合（set）"><a href="#集合（set）" class="headerlink" title="集合（set）"></a>集合（set）</h3><p>集合是一个无序的不重复元素集。集合的元素必须是不可变数据类型，如字符串、数字或元组。集合不支持索引，因为它们是无序的。</p><h4 id="创建集合"><a href="#创建集合" class="headerlink" title="创建集合"></a>创建集合</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建一个空集合</span><br>empty_set = <span class="hljs-built_in">set</span>()<br><span class="hljs-comment"># 创建一个包含元素的集合</span><br>fruits = &#123;<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;cherry&#x27;</span>&#125;<br><span class="hljs-comment"># 使用集合推导式创建集合</span><br>squared_set = &#123;i**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>)&#125;<br></code></pre></td></tr></table></figure><h4 id="集合操作"><a href="#集合操作" class="headerlink" title="集合操作"></a>集合操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 添加元素</span><br>fruits.add(<span class="hljs-string">&#x27;orange&#x27;</span>)<br><span class="hljs-comment"># 移除元素</span><br>fruits.remove(<span class="hljs-string">&#x27;banana&#x27;</span>)<br><span class="hljs-comment"># 集合成员测试</span><br>is_apple_in_fruits = <span class="hljs-string">&#x27;apple&#x27;</span> <span class="hljs-keyword">in</span> fruits  <span class="hljs-comment"># 结果是 True</span><br></code></pre></td></tr></table></figure><h4 id="集合元素的删除"><a href="#集合元素的删除" class="headerlink" title="集合元素的删除"></a>集合元素的删除</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">world_tournament_set = &#123;<span class="hljs-string">&quot;世界杯排球赛&quot;</span>,<span class="hljs-string">&quot;世界乒乓球锦标赛&quot;</span>,<span class="hljs-string">&quot;世界篮球锦标赛&quot;</span>,<span class="hljs-string">&quot;世界足球锦标赛&quot;</span>&#125;<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;世界大赛:&quot;</span>, world_tournament_set)<br>world_tournament_set.remove(<span class="hljs-string">&quot;世界足球锦标赛&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;set.remove()删除元素后:&quot;</span>, world_tournament_set)<br>world_tournament_set.discard(<span class="hljs-string">&quot;世界杯排球赛&quot;</span>)  <span class="hljs-comment"># 删除指定集合元素.</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;set.discard()删除元素后:&quot;</span>, world_tournament_set)<br>world_tournament_set.pop()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;set.pop()删除元素后:&quot;</span>, world_tournament_set)<br>world_tournament_set.clear()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;set.clear()清空元素后:&quot;</span>, world_tournament_set)<br></code></pre></td></tr></table></figure><p>使用remove方法从集合world_tournament_set中删除一个指定的元素”世界足球锦标赛”。使用discard方法尝试从集合world_tournament_set中删除一个指定的元素”世界杯排球赛”。<strong>如果该元素不存在，discard方法不会抛出错误。</strong>使用pop方法从集合world_tournament_set中随机删除一个元素。<strong>由于集合是无序的，所以pop方法会随机选择一个元素进行删除。</strong>使用clear方法清空集合world_tournament_set中的所有元素。</p><p> 运行结果：</p><p><img src="/../img/set_1.jpg" alt="集合删除结果"></p><h4 id="集合遍历"><a href="#集合遍历" class="headerlink" title="集合遍历"></a>集合遍历</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 遍历集合的元素</span><br><span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-built_in">print</span>(fruit)<br></code></pre></td></tr></table></figure><h4 id="集合运算"><a href="#集合运算" class="headerlink" title="集合运算"></a>集合运算</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 集合的并集</span><br>union = fruits | &#123;<span class="hljs-string">&#x27;kiwi&#x27;</span>, <span class="hljs-string">&#x27;mango&#x27;</span>&#125;<br><span class="hljs-comment"># 集合的交集</span><br>intersection = fruits &amp; &#123;<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;kiwi&#x27;</span>&#125;<br><span class="hljs-comment"># 集合的差集</span><br>difference = fruits - &#123;<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>&#125;<br><span class="hljs-comment"># 集合的对称差集</span><br>symmetric_difference = fruits ^ &#123;<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;kiwi&#x27;</span>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python数据类型</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>基数排序(多关键字排序)</title>
    <link href="/2023/12/10/%E9%93%BE%E5%BC%8F%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/"/>
    <url>/2023/12/10/%E9%93%BE%E5%BC%8F%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<p>是一种借助“多关键字排序”的思想来实现“单关键字排序”的内部排序算法。可以将每个关键字 K 看成由四个单关键字组成，即 K&#x3D; k 1,k 2,k 3,k 4 每个关键字的取值范围为 0≤k i≤9，所以每个关键字可取值的数目为 10。通常将关键字取值的数目称为基数，用 r 表示，下例中 r &#x3D;10。</p><p>链式基数排序（Radix Sort）是一种基于数位的排序算法。(这里使用LSD法进行排序)具体实现方法如下：</p><ol><li>取得链表中的最大数，并取得位数</li><li>从最低位开始，依次对每个数位进行排序，将排序结果存储到桶(辅助空间)中</li><li>将桶(辅助空间)中的结果存回原链表中</li><li>重复步骤2-3，直到最高位排序完毕</li></ol><p>以下是实现20个四位数的链式基数排序的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-comment">// 定义链表结点</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-type">int</span> data;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">next</span>;</span><br>&#125; Node;<br><span class="hljs-comment">// 定义队列结构</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Queue</span></span><br><span class="hljs-class">&#123;</span><br>    Node* front;  <span class="hljs-comment">// 队列前端</span><br>    Node* rear;   <span class="hljs-comment">// 队列后端</span><br>&#125; Queue;<br><br>Queue <span class="hljs-built_in">queue</span>[<span class="hljs-number">10</span>];  <span class="hljs-comment">// 10 个队列，用于分配和收集数据</span><br><span class="hljs-type">int</span> divisior = <span class="hljs-number">1</span>;  <span class="hljs-comment">// 用于按位取数的除数，初始为1</span><br><br><span class="hljs-comment">// 初始化队列</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">initQueue</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    Node* p = <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br>    <span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        p-&gt;data = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 初始化结点数据为0</span><br>        p-&gt;next = <span class="hljs-literal">NULL</span>;<br>        (*que).front = p;<br>        (*que).rear = p;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;node apply error!\n&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 入队操作</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(Queue* que, <span class="hljs-type">int</span> e)</span><br>&#123;<br>    Node* p = <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br>    <span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        p-&gt;data = e;<br>        p-&gt;next = <span class="hljs-literal">NULL</span>;<br>        (*que).rear-&gt;next = p;  <span class="hljs-comment">// 将新结点插入队尾</span><br>        (*que).rear = p;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;node apply error!\n&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 清空队列</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    (*que).front-&gt;next = <span class="hljs-literal">NULL</span>;<br>    (*que).rear = (*que).front;<br>&#125;<br><br><span class="hljs-comment">// 获取最大数的位数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">maxBit</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    Node* p = (*que).front-&gt;next;<br>    <span class="hljs-type">int</span> maxData = p-&gt;data;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-keyword">if</span> (maxData &lt; p-&gt;data) &#123;<br>            maxData = p-&gt;data;<br>        &#125;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-type">int</span> b = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (maxData &gt; <span class="hljs-number">0</span>) &#123;<br>        maxData /= <span class="hljs-number">10</span>;<br>        b++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> b;<br>&#125;<br><br><span class="hljs-comment">// 根据当前位数获取关键字</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">getKey</span><span class="hljs-params">(Node* q)</span><br>&#123;<br>    <span class="hljs-type">int</span> k = <span class="hljs-number">0</span>;<br>    k = ((*q).data / divisior) % <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">return</span> k;<br>&#125;<br><br><span class="hljs-comment">// 分配数据到各个队列中</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">distributeRadix</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        initQueue(&amp;<span class="hljs-built_in">queue</span>[i]);  <span class="hljs-comment">// 初始化10个队列</span><br>    &#125;<br>    Node* p = (*que).front-&gt;next;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-type">int</span> k = getKey(p); <br>        <span class="hljs-built_in">queue</span>[k].rear-&gt;next = p;  <span class="hljs-comment">// 将当前结点放入对应队列中</span><br>        <span class="hljs-built_in">queue</span>[k].rear = p;  <span class="hljs-comment">// 更新队列尾结点</span><br>        p = p-&gt;next;<br>        <span class="hljs-built_in">queue</span>[k].rear-&gt;next = <span class="hljs-literal">NULL</span>;<br>    &#125;<br>    clear(que);  <span class="hljs-comment">// 清空原队列</span><br>&#125;<br><br><span class="hljs-comment">// 将数据收集到原队列中</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">collectRadix</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    <span class="hljs-type">int</span> index = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">10</span>; index++) &#123;<br>        <span class="hljs-keyword">if</span> (&amp;<span class="hljs-built_in">queue</span>[index].front-&gt;next-&gt;data != <span class="hljs-literal">NULL</span>) &#123;  <span class="hljs-comment">// 找到第一个非空队列</span><br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    Node* p = <span class="hljs-built_in">queue</span>[index].front-&gt;next;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        (*que).rear-&gt;next = p;  <span class="hljs-comment">// 将队列中的数据接入原队列</span><br>        (*que).rear = p; <br>        p = p-&gt;next;<br>        (*que).rear-&gt;next = <span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (index++; index &lt; <span class="hljs-number">10</span>; index++) &#123;<br>        Node* q = <span class="hljs-built_in">queue</span>[index].front-&gt;next; <br>        <span class="hljs-keyword">while</span> (q != <span class="hljs-literal">NULL</span>) &#123;<br>            (*que).rear-&gt;next = q; <br>            (*que).rear = q;<br>            q = q-&gt;next;<br>            (*que).rear-&gt;next = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        clear(&amp;<span class="hljs-built_in">queue</span>[i]);  <span class="hljs-comment">// 清空各个队列</span><br>    &#125;<br>    divisior *= <span class="hljs-number">10</span>;  <span class="hljs-comment">// 更新除数</span><br>&#125;<br><br><span class="hljs-comment">// 基数排序</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">radix</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    <span class="hljs-type">int</span> b = maxBit(que);  <span class="hljs-comment">// 获取最大位数</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; b; i++) &#123;<br>        distributeRadix(que);  <span class="hljs-comment">// 按当前位数分配到各个队列</span><br>        collectRadix(que);  <span class="hljs-comment">// 将数据收集到原队列</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 打印队列</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print</span><span class="hljs-params">(Queue* que)</span><br>&#123;<br>    Node* p = (*que).front-&gt;next;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, p-&gt;data);<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    Queue que;<br>    initQueue(&amp;que);<br>    <span class="hljs-type">int</span> arr[] = &#123; <span class="hljs-number">1234</span>, <span class="hljs-number">5678</span>, <span class="hljs-number">9101</span>, <span class="hljs-number">2345</span>, <span class="hljs-number">6789</span>, <span class="hljs-number">1011</span>, <span class="hljs-number">1213</span>, <span class="hljs-number">1415</span>, <span class="hljs-number">1617</span>, <span class="hljs-number">1819</span>,<br>        <span class="hljs-number">2021</span>, <span class="hljs-number">2223</span>, <span class="hljs-number">2425</span>, <span class="hljs-number">2627</span>, <span class="hljs-number">2829</span>,<span class="hljs-number">3032</span>, <span class="hljs-number">3233</span>, <span class="hljs-number">3435</span>, <span class="hljs-number">3637</span>, <span class="hljs-number">3839</span> &#125;;<br>    <span class="hljs-type">int</span> len = <span class="hljs-keyword">sizeof</span>(arr) / <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>        push(&amp;que, arr[i]);  <span class="hljs-comment">// 将数据入队</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;排序前序列：\n&quot;</span>);<br>    print(&amp;que);<br>    radix(&amp;que);  <span class="hljs-comment">// 进行基数排序</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;排序后序列：\n&quot;</span>);<br>    print(&amp;que);  <span class="hljs-comment">// 打印排序后的队列</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>时间复杂度：</strong></p><p>待排序列为n个记录，d个关键字，关键字的取值范围为 r，其中，一趟分配时间复杂度为 O(n)，一趟收集时间复杂度为O(rd)，共进行 d 趟分配和收集，所以链式基数排序的时间复杂度为 O( d·(n+rd) ) 。</p><p><strong>空间复杂度：</strong></p><p>O(rd + n )，因为一个桶本质是一个链式队列，一共 r 个桶，每个队列有队头和队尾两个指针，就是2 rd 个队列指针。又原来的待排序列是一个单链表，那么需要 n 个next指针。</p><p>执行结果：</p><p><img src="/../img/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F.png" alt="基数排序"></p>]]></content>
    
    
    <categories>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>排序算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>哈夫曼编码</title>
    <link href="/2023/11/17/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91/"/>
    <url>/2023/11/17/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p>以下代码：首先统计了输入字符序列中每个字符出现的次数，然后基于这些统计结果构建了哈夫曼树，并生成了相应的哈夫曼编码和权重</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_CHARACTERS 256</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> &#123;</span><br>    <span class="hljs-type">char</span> data; <span class="hljs-comment">// 节点存储的数据</span><br>    <span class="hljs-type">int</span> frequency; <span class="hljs-comment">// 节点的频率</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">left</span>, * <span class="hljs-title">right</span>;</span> <span class="hljs-comment">// 左子节点和右子节点的指针</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinTree</span> &#123;</span><br>    <span class="hljs-type">int</span> size; <span class="hljs-comment">// MinTree中存储的节点数</span><br>    <span class="hljs-type">int</span> capacity; <span class="hljs-comment">// MinTree的容量</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>** <span class="hljs-title">array</span>;</span> <span class="hljs-comment">// 存储节点的指针数组</span><br>&#125;;<br><br><span class="hljs-comment">// 创建一个新的节点</span><br><span class="hljs-keyword">struct</span> Node* <span class="hljs-title function_">newNode</span><span class="hljs-params">(<span class="hljs-type">char</span> data, <span class="hljs-type">int</span> frequency)</span> &#123;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">node</span> =</span> (<span class="hljs-keyword">struct</span> Node*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> Node)); <span class="hljs-comment">// 为节点分配内存空间</span><br>    node-&gt;left = node-&gt;right = <span class="hljs-literal">NULL</span>; <span class="hljs-comment">// 初始化左子节点和右子节点指针为空</span><br>    node-&gt;data = data; <span class="hljs-comment">// 设置节点存储的数据</span><br>    node-&gt;frequency = frequency; <span class="hljs-comment">// 设置节点的频率</span><br>    <span class="hljs-keyword">return</span> node; <span class="hljs-comment">// 返回创建的节点指针</span><br>&#125;<br><br><span class="hljs-comment">// 创建一个新的MinTree</span><br><span class="hljs-comment">// capacity: MinTree的容量</span><br><span class="hljs-keyword">struct</span> MinTree* <span class="hljs-title function_">createMinTree</span><span class="hljs-params">(<span class="hljs-type">int</span> capacity)</span> &#123;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinTree</span>* <span class="hljs-title">minTree</span> =</span> (<span class="hljs-keyword">struct</span> MinTree*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> MinTree)); <span class="hljs-comment">// 为MinTree分配内存空间</span><br>    minTree-&gt;size = <span class="hljs-number">0</span>; <span class="hljs-comment">// 初始化MinTree的节点数为0</span><br>    minTree-&gt;capacity = capacity; <span class="hljs-comment">// 设置MinTree的容量</span><br>    minTree-&gt;<span class="hljs-built_in">array</span> = (<span class="hljs-keyword">struct</span> Node**)<span class="hljs-built_in">malloc</span>(capacity * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> Node*)); <span class="hljs-comment">// 为存储节点的指针数组分配内存空间</span><br>    <span class="hljs-keyword">return</span> minTree; <span class="hljs-comment">// 返回创建的MinTree的指针</span><br>&#125;<br><br><span class="hljs-comment">// 交换两个节点的指针</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">swapNode</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> Node** a, <span class="hljs-keyword">struct</span> Node** b)</span> &#123;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">t</span> =</span> *a; <span class="hljs-comment">// 临时变量保存第一个节点的指针指向的节点</span><br>    *a = *b; <span class="hljs-comment">// 将第二个节点的指针赋值给第一个节点的指针</span><br>    *b = t; <span class="hljs-comment">// 将临时变量保存的第一个节点的指针赋值给第二个节点的指针</span><br>&#125;<br><br><span class="hljs-comment">// 将最小树中以指定索引为根节点的子树变成最小堆</span><br><span class="hljs-comment">// minTree: 最小树的指针</span><br><span class="hljs-comment">// idx: 子树的根节点索引</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">minTreeify</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> MinTree* minTree, <span class="hljs-type">int</span> idx)</span> &#123;<br>    <span class="hljs-type">int</span> smallest = idx; <span class="hljs-comment">// 假设根节点的值最小</span><br>    <span class="hljs-type">int</span> left = <span class="hljs-number">2</span> * idx + <span class="hljs-number">1</span>; <span class="hljs-comment">// 左子节点的索引</span><br>    <span class="hljs-type">int</span> right = <span class="hljs-number">2</span> * idx + <span class="hljs-number">2</span>; <span class="hljs-comment">// 右子节点的索引</span><br>    <span class="hljs-comment">// 如果左子节点存在且频率比当前最小节点小，则更新最小节点索引</span><br>    <span class="hljs-keyword">if</span> (left &lt; minTree-&gt;size &amp;&amp; minTree-&gt;<span class="hljs-built_in">array</span>[left]-&gt;frequency &lt; minTree-&gt;<span class="hljs-built_in">array</span>[smallest]-&gt;frequency)<br>        smallest = left;<br>    <span class="hljs-comment">// 如果右子节点存在且频率比当前最小节点小，则更新最小节点索引</span><br>    <span class="hljs-keyword">if</span> (right &lt; minTree-&gt;size &amp;&amp; minTree-&gt;<span class="hljs-built_in">array</span>[right]-&gt;frequency &lt; minTree-&gt;<span class="hljs-built_in">array</span>[smallest]-&gt;frequency)<br>        smallest = right;<br>    <span class="hljs-comment">// 如果最小节点不是根节点，则交换最小节点和根节点，并对交换后的子树进行调整</span><br>    <span class="hljs-keyword">if</span> (smallest != idx) &#123;<br>        swapNode(&amp;minTree-&gt;<span class="hljs-built_in">array</span>[smallest], &amp;minTree-&gt;<span class="hljs-built_in">array</span>[idx]);<br>        minTreeify(minTree, smallest);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 判断MinTree是否只有一个节点</span><br><span class="hljs-comment">// minTree: MinTree指针</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">isSizeOne</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> MinTree* minTree)</span> &#123;<br>    <span class="hljs-keyword">return</span> (minTree-&gt;size == <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-comment">// 从MinTree中提取最小节点</span><br><span class="hljs-keyword">struct</span> Node* <span class="hljs-title function_">extractMin</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> MinTree* minTree)</span> &#123;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">temp</span> =</span> minTree-&gt;<span class="hljs-built_in">array</span>[<span class="hljs-number">0</span>]; <span class="hljs-comment">// 保存需要提取的最小节点</span><br>    minTree-&gt;<span class="hljs-built_in">array</span>[<span class="hljs-number">0</span>] = minTree-&gt;<span class="hljs-built_in">array</span>[minTree-&gt;size - <span class="hljs-number">1</span>]; <span class="hljs-comment">// 将最后一个节点移到根节点位置</span><br>    --minTree-&gt;size; <span class="hljs-comment">// MinTree大小减1</span><br>    minTreeify(minTree, <span class="hljs-number">0</span>); <span class="hljs-comment">// 重新调整MinTree的堆序性质</span><br>    <span class="hljs-keyword">return</span> temp; <span class="hljs-comment">// 返回被提取的最小节点</span><br>&#125;<br><br><span class="hljs-comment">// 向MinTree中插入一个节点</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">insertMinTree</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> MinTree* minTree, <span class="hljs-keyword">struct</span> Node* node)</span> &#123;<br>    ++minTree-&gt;size; <span class="hljs-comment">// MinTree大小增加1</span><br>    <span class="hljs-type">int</span> i = minTree-&gt;size - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (i &amp;&amp; node-&gt;frequency &lt; minTree-&gt;<span class="hljs-built_in">array</span>[(i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>]-&gt;frequency) &#123;<br>        minTree-&gt;<span class="hljs-built_in">array</span>[i] = minTree-&gt;<span class="hljs-built_in">array</span>[(i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>]; <span class="hljs-comment">// 将父节点移到当前位置</span><br>        i = (i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>; <span class="hljs-comment">// 更新位置到父节点的位置</span><br>    &#125;<br>    minTree-&gt;<span class="hljs-built_in">array</span>[i] = node; <span class="hljs-comment">// 将新节点插入到对应位置</span><br>&#125;<br><br><span class="hljs-comment">// 以给定的数据和频率构建哈夫曼树</span><br><span class="hljs-keyword">struct</span> Node* <span class="hljs-title function_">buildHuffmanTree</span><span class="hljs-params">(<span class="hljs-type">char</span> data[], <span class="hljs-type">int</span> frequency[], <span class="hljs-type">int</span> size)</span> &#123;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">left</span>, * <span class="hljs-title">right</span>, * <span class="hljs-title">top</span>;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinTree</span>* <span class="hljs-title">minTree</span> =</span> createMinTree(size); <span class="hljs-comment">// 创建一个最小堆，用于构建哈夫曼树</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i) &#123;<br>        <span class="hljs-keyword">if</span> (frequency[i] &gt; <span class="hljs-number">0</span>) &#123;<br>            minTree-&gt;<span class="hljs-built_in">array</span>[minTree-&gt;size++] = newNode(data[i], frequency[i]); <span class="hljs-comment">// 将节点插入最小堆中</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 最小堆化，使堆顶元素为最小值</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = minTree-&gt;size / <span class="hljs-number">2</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;<br>        minTreeify(minTree, i);<br>    &#125;<br><br>    <span class="hljs-comment">// 通过不断取出堆顶和次堆顶的方式，构建哈夫曼树</span><br>    <span class="hljs-keyword">while</span> (!isSizeOne(minTree)) &#123;<br>        left = extractMin(minTree); <span class="hljs-comment">// 取出最小的节点作为左子树</span><br>        right = extractMin(minTree); <span class="hljs-comment">// 取出次小的节点作为右子树</span><br>        top = newNode(<span class="hljs-string">&#x27;$&#x27;</span>, left-&gt;frequency + right-&gt;frequency); <span class="hljs-comment">// 创建一个新的节点作为父节点</span><br>        top-&gt;left = left; <span class="hljs-comment">// 左子节点</span><br>        top-&gt;right = right; <span class="hljs-comment">// 右子节点</span><br>        insertMinTree(minTree, top); <span class="hljs-comment">// 将新节点插入最小堆中</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> extractMin(minTree); <span class="hljs-comment">// 最后返回哈夫曼树的根节点</span><br>&#125;<br><br><span class="hljs-comment">// 递归打印哈夫曼编码</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">printCodes</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> Node* root, <span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> top)</span> &#123;<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> first = <span class="hljs-number">1</span>; <span class="hljs-comment">// 用于控制输出格式</span><br>    <span class="hljs-keyword">if</span> (!(root-&gt;left) &amp;&amp; !(root-&gt;right)) &#123; <span class="hljs-comment">// 当前节点为叶子节点</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Character: %c, Weight: %u, Huffman Code: &quot;</span>, root-&gt;data, root-&gt;frequency); <span class="hljs-comment">// 输出字符、频率和编码</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, arr[i]); <span class="hljs-comment">// 遍历路径数组，打印编码</span><br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">if</span> (first) &#123; <span class="hljs-comment">// 第一次打印该编码时，在最后不需要加换行符</span><br>            first = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (root-&gt;left) &#123; <span class="hljs-comment">// 遍历左子树，将路径加入数组，并递归遍历子树</span><br>        arr[top] = <span class="hljs-number">0</span>;<br>        printCodes(root-&gt;left, arr, top + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (root-&gt;right) &#123; <span class="hljs-comment">// 遍历右子树，将路径加入数组，并递归遍历子树</span><br>        arr[top] = <span class="hljs-number">1</span>;<br>        printCodes(root-&gt;right, arr, top + <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> characters[MAX_CHARACTERS];<br>    <span class="hljs-type">int</span> frequencies[MAX_CHARACTERS] = &#123; <span class="hljs-number">0</span> &#125;;<br>    <span class="hljs-type">int</span> n;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter the number of characters: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter %d characters: &quot;</span>, n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c&quot;</span>, &amp;characters[i]);<br>        frequencies[(<span class="hljs-type">int</span>)characters[i]]++;<br>    &#125;<br><br>    <span class="hljs-type">int</span> L_chars = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; MAX_CHARACTERS; ++i) &#123;<br>        <span class="hljs-keyword">if</span> (frequencies[i] &gt; <span class="hljs-number">0</span>) &#123;<br>            L_chars++;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-type">char</span> L_characters[<span class="hljs-number">100</span>];<br>    <span class="hljs-type">int</span> L_frequencies[<span class="hljs-number">100</span>];<br>    <span class="hljs-type">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; MAX_CHARACTERS; ++i) &#123;<br>        <span class="hljs-keyword">if</span> (frequencies[i] &gt; <span class="hljs-number">0</span>) &#123;<br>            L_characters[index] = (<span class="hljs-type">char</span>)i;<br>            L_frequencies[index] = frequencies[i];<br>            index++;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">root</span> =</span> buildHuffmanTree(L_characters, L_frequencies, L_chars);<br><br>    <span class="hljs-type">int</span> arr[MAX_CHARACTERS], top_index = <span class="hljs-number">0</span>;<br>    printCodes(root, arr, top_index);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/../img/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81.png"></p>]]></content>
    
    
    <categories>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>哈夫曼编码</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>共享栈</title>
    <link href="/2023/10/23/%E5%85%B1%E4%BA%AB%E6%A0%88/"/>
    <url>/2023/10/23/%E5%85%B1%E4%BA%AB%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<p>共享栈是一种特殊的栈结构，它允许两个栈共享同一段物理内存区域。共享栈有两个栈顶指针，分别称为top 1和top 2，它们分别指向两个栈的栈顶元素。在共享栈中，两个栈可以分别从两端向中间生长，当它们的栈顶指针相遇时，表示共享栈已满。</p><p>下面是共享栈的基本操作：</p><ol><li>初始化（Init）：创建一个空的共享栈，并初始化top 1和top 2指针为-1，表示两个栈为空。</li><li>入栈（Push）：<ul><li>当要插入元素到栈1时，先检查top 1是否小于top 2-1，如果是，则将元素插入top 1位置，top 1加1。</li><li>当要插入元素到栈2时，先检查top 1是否小于top 2-1，如果是，则将元素插入top 2位置，top 2减1。</li></ul></li><li>出栈（Pop）：<ul><li>当要从栈1中出栈时，首先检查top 1是否不等于-1，如果是，则将top 1位置的元素弹出，并将top 1减1。</li><li>当要从栈2中出栈时，首先检查top 2是否不等于-1，如果是，则将top 2位置的元素弹出，并将top 2加1。</li></ul></li><li>判空（Is Empty）：检查top 1和top 2是否都为-1，如果是，则共享栈为空。</li><li>判满（Is Full）：检查top 1和top 2是否相差为1，如果是，则共享栈已满。</li><li>获取栈顶元素（Top）：<ul><li>当要获取栈1的栈顶元素时，首先检查top 1是否不等于-1，如果是，则返回top 1位置的元素。</li><li>当要获取栈2的栈顶元素时，首先检查top 2是否不等于-1，如果是，则返回top 2位置的元素。</li></ul></li></ol><p>以下是共享栈的伪代码实现，包括初始化、入栈、出栈和获取栈顶元素等操作。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_SIZE 100</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> &#123;<br>    ElemType data[MAX_SIZE];<br>    <span class="hljs-type">int</span> top1;  <span class="hljs-comment">// 第一个栈的栈顶指针</span><br>    <span class="hljs-type">int</span> top2;  <span class="hljs-comment">// 第二个栈的栈顶指针</span><br>&#125; SharedStack;<br><span class="hljs-comment">//栈满条件：top1 + 1 = top2</span><br><br><span class="hljs-comment">// 初始化共享栈</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">initSharedStack</span><span class="hljs-params">(SharedStack &amp;S)</span> </span><br><span class="hljs-function"></span>&#123;<br>    S.top1 = <span class="hljs-number">-1</span>;<br>    S.top2 = MAX_SIZE;<br>&#125;<br><br><span class="hljs-comment">// 第一个栈的入栈</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">pushStack1</span><span class="hljs-params">(SharedStack &amp;S, ElemType x)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (S.top1 + <span class="hljs-number">1</span> &lt; S.top2) <br>    &#123;<span class="hljs-comment">//指针先加1，再入栈</span><br>        S.top1++;<br>        S.data[S.top1] = x;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈已满，无法进行入栈操作\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 第一个栈的出栈</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">popStack1</span><span class="hljs-params">(SharedStack &amp;S, ElemType &amp;x)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (S.top1 &gt;= <span class="hljs-number">0</span>) <br>    &#123;<span class="hljs-comment">//先出栈，指针再减1</span><br>        x = S.data[S.top1];<br>        S.top1--;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// 表示栈为空</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 第二个栈的入栈</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">pushStack2</span><span class="hljs-params">(SharedStack &amp;S, ElemType x)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (S.top2 - <span class="hljs-number">1</span> &gt; S.top1) <br>    &#123;<span class="hljs-comment">//指针先减1，再入栈</span><br>        S.top2--;<br>        S.data[S.top2] = x;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈已满，无法进行入栈操作\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 第二个栈的出栈</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">popStack2</span><span class="hljs-params">(SharedStack &amp;S, ElemType &amp;x)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (S.top2 &lt; MAX_SIZE) <br>    &#123;<span class="hljs-comment">//先入栈，指针再加1</span><br>        x = S.data[S.top2];<br>        S.top2++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈已空，无法进行出栈操作\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// 表示栈为空</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 获取栈顶元素</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getTopElement</span><span class="hljs-params">(SharedStack S, ElemType &amp;x)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (S.top1 &gt;= <span class="hljs-number">0</span>) <br>    &#123;<br>       <span class="hljs-keyword">return</span> S.data[S.top1];<br>    &#125; <br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (S.top2 &lt; MAX_SIZE) <br>    &#123;<br>        <span class="hljs-keyword">return</span> S.data[S.top2];<br>    &#125; <br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;栈已空，无栈顶元素\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// 表示栈为空</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>转换函数</title>
    <link href="/2022/11/15/work1/"/>
    <url>/2022/11/15/work1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><h5 id="实现十进制数字到任意进制的转换函数"><a href="#实现十进制数字到任意进制的转换函数" class="headerlink" title="实现十进制数字到任意进制的转换函数:"></a>实现十进制数字到任意进制的转换函数:</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">baseConverter</span><span class="hljs-params">(<span class="hljs-type">int</span> dec,<span class="hljs-type">int</span> base)</span>;<br><span class="hljs-comment">//其中base为转换的基数</span><br><span class="hljs-comment">//示例：</span><br>--&gt;input   :<span class="hljs-number">250</span>, <span class="hljs-number">16</span><br>--&gt;output  :FA<br></code></pre></td></tr></table></figure><h4 id="查资料："><a href="#查资料：" class="headerlink" title="查资料："></a>查资料：</h4><p>基数：在一种数制中，只能使用一组固定的数字来表示数的大小，这组固定的数字的个数就称为该计数制的基数（Base）。例如十进制的基数为10，二进制的基数为2等。</p><p>权：又称为位权或权值，即每一个数位都有一个固定的基值与之相对应，称之为权。如十进制的个位对应的权值为1（100），十位对应的权值为10（101），百位对应的权值为100（102）。对于一个 M 进制的数来说，小数点左边各位上对应的权值从右到左分别为基数的0次方、基数的1次方、基数的2次方等，对于小数点右边各位上对应的权值从左到右分别为基数的-1次方、基数的-2次方等。<br>二进制、八进制、十六进制向十进制转换：按权展开相加。<br>十进制转换成二进制、八进制、十六进制：整数部分除以基数取余数（取余的方向为从后向前）；小数部分乘以基数取整数（取整的方向为从前向后）。<br>二进制、八进制、十六进制相互转换：先转换成十进制再转换成其他进制；或者按照其对应关系进行转换（三位二进制数对应一位八进制数，四位二进制数对应一位十六进制数）。</p><h4 id="算法设计："><a href="#算法设计：" class="headerlink" title="算法设计："></a>算法设计：</h4><p>十六进制是由 0~F 这一组固定的数字来表示，所以釆用字符数组进行存储。<br>在执行程序时可以输入多组数据来验证程序的正确性</p><h4 id="程序源码："><a href="#程序源码：" class="headerlink" title="程序源码："></a>程序源码：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">baseConverter</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j, num[<span class="hljs-number">20</span>];<br><span class="hljs-type">char</span> k[] = &#123; <span class="hljs-string">&#x27;0&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>,<span class="hljs-string">&#x27;4&#x27;</span>,<span class="hljs-string">&#x27;5&#x27;</span>,<span class="hljs-string">&#x27;6&#x27;</span>,<span class="hljs-string">&#x27;7&#x27;</span>,<span class="hljs-string">&#x27;8&#x27;</span>,<span class="hljs-string">&#x27;9&#x27;</span>,<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>,<span class="hljs-string">&#x27;D&#x27;</span>,<span class="hljs-string">&#x27;E&#x27;</span>,<span class="hljs-string">&#x27;F&#x27;</span> &#125;;<br><span class="hljs-keyword">do</span> &#123;<br>i++;<br>num[i] = a % b;<br>a /= b;<br>&#125; <span class="hljs-keyword">while</span> (a != <span class="hljs-number">0</span>);<br><span class="hljs-keyword">for</span> (j = i; j &gt;= <span class="hljs-number">1</span>; j--)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, k[num[j]]);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i,j;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;i, &amp;j);<br>baseConverter(i,j);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="运行实例："><a href="#运行实例：" class="headerlink" title="运行实例："></a>运行实例：</h4><p><img src="/../img/1.png"></p><p><img src="/../img/2.png"></p>]]></content>
    
    
    <categories>
      
      <category>first</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/10/13/hello-world/"/>
    <url>/2022/10/13/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>first</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
